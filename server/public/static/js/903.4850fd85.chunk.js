"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[903],{18:(e,t,s)=>{s.d(t,{Z:()=>n});var a=s(184);const n=e=>{let{title:t="Confirm?",content:s="This action can not be undone",open:n,handleClick:l,agreeMessage:r="Agree",disagreeMessage:i="Disagree"}=e;return(0,a.jsx)("div",{className:`${!n&&"hidden"} fixed z-50 left-0 top-0 h-full w-full bg-black bg-opacity-50 flex justify-center`,children:(0,a.jsxs)("div",{className:"bg-white p-10 m-auto flex flex-col gap-10",children:[(0,a.jsx)("h1",{className:"text-center text-lg font-semibold",children:t}),(0,a.jsxs)("div",{children:[" ",s]}),(0,a.jsxs)("div",{className:"flex gap-5 justify-center items-center",children:[(0,a.jsx)("button",{className:"my-button",onClick:()=>{l(!1)},children:i}),(0,a.jsx)("button",{className:"my-button",onClick:()=>{l(!0)},children:r})]})]})})}},727:(e,t,s)=>{s.d(t,{Z:()=>n});s(791);var a=s(184);const n=e=>{let{children:t,onClose:s}=e;return(0,a.jsx)("div",{className:"fixed top-0 left-0 h-screen w-screen z-1 bg-slate-600/90",children:(0,a.jsx)("div",{onClick:e=>{e.target===e.currentTarget&&s()},className:"flex justify-center h-screen items-center ",children:t})})}},103:(e,t,s)=>{s.d(t,{Z:()=>n});var a=s(184);const n=e=>{let{rows:t,imgUrl:s=null}=e;return(0,a.jsx)("table",{children:(0,a.jsxs)("tbody",{children:[t.map(((e,t)=>(0,a.jsx)("tr",{children:e.map(((e,t)=>(0,a.jsx)("td",{className:"text-left w-96",children:e},t)))},t))),s&&(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"text-left w-96",children:"Image"}),(0,a.jsx)("td",{children:(0,a.jsx)("img",{className:"w-52 h-52",src:s,alt:"image"})})]})]})})}},223:(e,t,s)=>{s.d(t,{rr:()=>f,KM:()=>U,xD:()=>m,SG:()=>v,ZA:()=>z,DX:()=>c,gC:()=>I,w6:()=>G,jC:()=>S,nA:()=>d,bV:()=>O,dU:()=>b,Wo:()=>j,Km:()=>T,eU:()=>E,tr:()=>R,Fe:()=>L,wA:()=>u,t8:()=>w,P1:()=>N,ux:()=>y,QX:()=>F,$L:()=>Y,Gy:()=>C,LC:()=>x,In:()=>K,P4:()=>P,wz:()=>W,UR:()=>M,Mi:()=>A,sq:()=>h,tL:()=>X,bh:()=>H,ty:()=>Z,wp:()=>V,P5:()=>Q,xJ:()=>B,vs:()=>k,K7:()=>p,hu:()=>g,L8:()=>i,Nm:()=>D,wN:()=>o});var a=s(353),n=s.n(a);const l="3dce05be7c8e1bebc039ccd19cadcc54",r="/api/admin",i=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise(((l,i)=>{fetch(`${r}/${e}`,(e=>({method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}))(t)).then((async t=>{if(Array.isArray(s)||(s=[s]),0===s.length)return void i(`CRS UNDEFINED at ${e}`);if(a){const e=t.headers.get("Content-Disposition").split("filename=")[1].replace(/^"|"$/g,"");return n()(await t.blob(),e),void l("File Downloaded Successfully")}const r=await t.json();s.includes(r.status)?null===r.payload?l(r.message):l(r.payload):(!function(e){let{status:t,message:s,payload:a}=e;arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?console.error({status:t,message:s,payload:a}):console.log({status:t,message:s,payload:a})}(r,!1),i(r.message))})).catch((e=>{console.log(e),i(a?"Download Failed":"Could not connect to Server")}))}))},o=e=>i(`/search?${e&&e}`,{},["SRH200GLB"]),c=e=>i("students/create-new-student",e,["STU201CNS"]),d=e=>i("students/edit-existing-student",e,["STU200ES"]),h=e=>i("students/fetch-student-by-roll-number",{membershipId:e},["STU200FSBRN"]),m=e=>i("students/allot-library-card-to-student",e,["STU200ALCTS"]),u=e=>i(`students/fetch-all-students?${e&&e}`,{},["STU200FAS"]),b=e=>i(`students/fetch-all-applications?${e&&e}`,{},"STU200FAA"),x=e=>i("students/fetch-one-application",{_id:e},"APP200FA"),p=e=>i("students/process-application",e,["APP200APA","APP200RPA"]),f=e=>i("/books/add-new-book",e,"BKS200ANB"),g=e=>i("/books/quick-add",e,"BKS200ABA"),j=e=>i(`books/fetch-all-books?${e&&e}`,{},"BKS200FAB"),N=e=>i("books/fetch-book-by-isbn",{isbn:e},"BKS200FBBI"),v=e=>i("books/add-book-accession",e,"BKS200ABA"),y=e=>i("books/fetch-book-by-id",{_id:e},"BKS200FBDBI"),S=e=>i("books/edit-existing-book",e,"BKS200EB"),w=e=>i("books/fetch-book-by-accession-number",{accessionNumber:e},"BKS200FBBAN"),A=e=>i("students/fetch-student-by-id",{_id:e},"STU200FSBI"),k=e=>i("books/issue-books/issue-new-book",e,"ISB200INB"),C=e=>i("books/issue-books/fetch-issued-book-by-accession-number",{accessionNumber:e},"ISB200FIBBAN"),D=e=>i("books/return-books/return-issued-book",e,"ISB200RIB"),B=e=>i("books/issue-books/calculate-issue-book-fine",e,"ISB200CIBF"),T=e=>i(`fines/fetch-all-fines?${e&&e}`,{},"FIN200FAF"),F=e=>i("fines/fetch-fine-doc",{_id:e},"FIN200FFBI"),U=e=>i("fines/add-reciept-number",e,"FIN200ARN"),E=e=>i(`books/issue-books/fetch-all-issued-books?${e&&e}`,{},"ISB200FAIB"),I=e=>i("books/issue-books/download-all-issued-books",e,"",!0),R=e=>i(`books/return-books/fetch-all-returned-books?${e&&e}`,{},"ISB200FARB"),G=e=>i(`books/return-books/download-all-returned-books?${e&&e}`,{},"",!0),P=e=>i("books/return-books/fetch-returned-book",{_id:e},"ISB200FRB"),Y=e=>i("books/issue-books/fetch-issued-book",{_id:e},"ISB200FIB"),z=e=>i("staff/create-new-staff",e,["AUTH200AADM"]),L=e=>i("staff/search-all-staff",e,["STF200FAS"]),M=e=>i("staff/fetch-staff-by-id",{_id:e},["STF200FSBI"]),K=()=>i("staff/fetch-profile",{},["STF200FSBI"]),O=(e,t)=>i("staff/edit-staff",{_id:e,update:t},["STF201ESDI"]),Z=function(){return i("books/issue-books/count-issued-books",{filter:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null},"ISB200CIBD")},V=function(){return i("books/return-books/count-returned-books",{filter:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null},"REB200CRBD")},H=()=>i("books/count-book-accessions",{},"BKS200CTBA"),Q=function(){return i("students/count-total-students",{filter:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null},"STU200CTS")},W=()=>new Promise(((e,t)=>{fetch(`${r}/settings/get-academic-programs`,{}).then((async s=>{const a=s.status,{data:n}=await s.json();200===a?e(n):t(n)})).catch((e=>t(e)))})),X=async()=>{const e=l;return new Promise((t=>{fetch(`https://api.openweathermap.org/data/2.5/weather?lat=30.914519&lon=74.652159&appid=${e}`).then((async e=>{const s=await e.json(),a=s.weather[0],n={temp:(s.main.temp-273.15).toFixed(1),feels_like:(s.main.feels_like-273.15).toFixed(1),description:a.description,icon:a.icon,city:s.name};t(n)})).catch((e=>{console.log(e),t("Unable to Fetch")}))}))}},123:(e,t,s)=>{s.r(t),s.d(t,{default:()=>k});var a=s(791),n=s(689),l=s(18),r=s(223),i=s(874),o=s(639),c=s(258),d=s(419),h=(s(390),s(727)),m=s(201),u=s(92),b=s(184);const x=e=>{let{onChange:t}=e;const s=(0,a.useRef)(null),[n,l]=(0,a.useState)(!1),[r,i]=(0,a.useState)(null),[c,x]=(0,a.useState)({unit:"px",x:25,y:25,width:100,height:100}),[p,f]=(0,a.useState)(null),[g,j]=(0,a.useState)(null),[N,v]=(0,a.useState)(!1),y=(0,a.useRef)(null),[S,w]=(0,a.useState)(!1),A=()=>{l(null),i(null),x({unit:"px",x:25,y:25,width:100,height:100}),f(null),j(null),v(!1),w(!1),y.current=null,s.current.value=""},k=async e=>{g?(e.preventDefault(),await(0,o.zX)({imgUrl:g}).then((()=>{A()})).catch((e=>{console.log(e)}))):A()};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex flex-row gap-3 justify-between items-center",children:[(0,b.jsx)("label",{className:"text-xl",htmlFor:"Image",children:"Image"}),(0,b.jsx)("div",{className:"flex gap-3 justify-between items-center",children:g?(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:"flex gap-5",children:[(0,b.jsx)("img",{className:"w-20 h-20 rounded-full",src:g,alt:"image"}),(0,b.jsx)("button",{onClick:k,children:(0,b.jsx)("img",{className:"w-6 h-6",src:"data:image/png;base64,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",alt:""})})]})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("input",{className:"border border-black px-1 w-60 text-xl",type:"file",accept:"image/*",onChange:e=>{var t;const s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!s)return;if(s.size>1048576)return e.target.value="",l(!0),void i("");n&&l(!1),w(!0);const a=new FileReader;a.addEventListener("load",(()=>{var e;const t=(null===(e=a.result)||void 0===e?void 0:e.toString())||"";i(t)})),a.readAsDataURL(s)},ref:s,required:!0}),n&&(0,b.jsx)("p",{className:"text-red-800",children:"File size exceeds 1 MB!"})]})})]}),S&&(0,b.jsx)(h.Z,{onClose:k,children:(0,b.jsxs)("div",{className:"bg-white  rounded p-2 md:p-20",children:[r&&(0,b.jsx)("div",{className:"relative max-w-[400px] ",children:(0,b.jsx)(d.ZP,{crop:c,onChange:e=>x(e),aspect:1,keepSelection:!0,onComplete:async e=>{if(y.current&&e.width&&e.height){const t=await(0,m.m4)(y.current,e);f(t)}},children:(0,b.jsx)("img",{ref:y,src:r,alt:"Image",style:{width:"100%",height:"auto"}})})}),N?(0,b.jsx)("div",{className:"mt-10",children:(0,b.jsx)(u.Z,{})}):(0,b.jsx)("button",{className:"mt-10 my-button",onClick:async e=>{if(e.preventDefault(),!p)return;const s=new FormData;s.append("file",p);try{v(!0);const e=await fetch("http://localhost:8080/api/upload/image",{method:"POST",credentials:"include",body:s}),a=await e.json();"ULD201IMG"===a.status&&(j(a.payload.imgUrl),v(!1),w(!1),t({target:{name:"imgUrl",value:a.payload.imgUrl}}))}catch(a){console.error("Upload failed:",a)}},children:"Upload"})]})})]})},p=e=>(0,b.jsxs)("div",{className:"flex flex-row gap-5 justify-between",children:[(0,b.jsx)("label",{htmlFor:e.htmlFor,children:e.label}),(0,b.jsx)("input",{className:"border border-black px-1 w-48",required:!0,...e})]}),f=e=>{const{fields:t,onChange:s,label:a}=e;return(0,b.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,b.jsx)("label",{htmlFor:"",children:a}),(0,b.jsxs)("select",{required:!0,className:"border border-black px-1 w-48",onChange:s,defaultValue:t[0].value,...e,children:[(0,b.jsx)("option",{value:"",disabled:!0,children:"--select an option--"}),t.map(((e,t)=>(0,b.jsx)("option",{value:e.value,children:e.name},t)))]})]})},g=()=>{const{setFeedback:e}=(0,a.useContext)(c.m),[t,s]=(0,a.useState)([{name:"",value:"",branches:[{name:"",value:""}]}]),[n,d]=(0,a.useState)(!1),{formFields:h,handleChange:m}=(0,i.c)({rollNumber:"",fullName:"",fathersName:"",gender:"",category:"",dob:"",program:"",specialization:"",batch:"",phoneNumber:"",role:"STUDENT UG",imgUrl:""}),{rollNumber:u,fullName:g,fathersName:j,gender:N,dob:v,category:y,program:S,specialization:w,batch:A,phoneNumber:k,role:C}=h;(0,a.useEffect)((()=>{(async()=>{const e=await(0,r.wz)();s(e)})()}),[]);return(0,b.jsxs)("div",{className:"text-center md:px-10 px-2",children:[(0,b.jsx)("h2",{className:"text-3xl font-bold my-5",children:"Apply for Library Membership"}),(0,b.jsx)("div",{className:"bg-white p-5 rounded-3xl",children:(0,b.jsxs)("form",{onSubmit:e=>{e.preventDefault(),d(!0)},children:[(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-x-10 gap-5 justify-center items-center",children:[(0,b.jsx)(f,{label:"User Type",name:"role",fields:[{name:"STUDENT UG",value:"STUDENT UG"},{name:"STUDENT PG",value:"STUDENT PG"},{name:"TEACHER REGULAR",value:"TEACHER REGULAR"},{name:"TEACHER ADHOC",value:"TEACHER ADHOC"},{name:"NON TEACHING STAFF",value:"NON TEACHING STAFF"}],value:C,onChange:m}),(0,b.jsx)(p,{label:"Roll Number",type:"number",name:"rollNumber",value:u,onChange:m,required:!1,onInput:e=>{e.target.value=Math.max(0,parseInt(e.target.value)).toString().slice(0,6)}}),(0,b.jsx)(f,{label:"Batch",name:"batch",fields:(()=>{const e=[];for(let t=(new Date).getFullYear();t>=(new Date).getFullYear()-6;t--)e.push({name:t.toString(),value:t});return e})(),value:A,onChange:m}),(0,b.jsx)(p,{label:"Name",type:"text",name:"fullName",value:g,onChange:m}),(0,b.jsx)(p,{label:"Father's Name",type:"text",name:"fathersName",value:j,onChange:m}),(0,b.jsx)(p,{label:"Date of Birth",type:"date",name:"dob",value:v,onChange:m}),(0,b.jsx)(f,{label:"Gender",name:"gender",fields:[{name:"Male",value:"male"},{name:"Female",value:"female"},{name:"Other",value:"other"}],value:N,onChange:m}),(0,b.jsx)(f,{label:"Category",name:"category",fields:[{name:"General",value:"general"},{name:"SC/ST",value:"SCST"},{name:"Other",value:"other"}],value:y,onChange:m}),"STUDENT UG"===C||"STUDENT PG"===C?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f,{label:"Program",name:"program",fields:t,value:S,onChange:m}),(0,b.jsx)(f,{label:"Specialization",name:"specialization",fields:(()=>{try{const e=t.find((e=>e.value===S));return e&&Object.hasOwnProperty.call(e,"branches")?e.branches:[{name:"",value:""}]}catch(e){return[{name:"",value:""}]}})(),value:w,onChange:m})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f,{label:"Desigination",name:"program",fields:[{name:"Professor",value:"Professor"}],value:S,onChange:m}),(0,b.jsx)(p,{label:"Specialization",name:"specialization",type:"text",value:w,onChange:m})]}),(0,b.jsx)(p,{label:"Phone Number",type:"number",name:"phoneNumber",value:k,onChange:m,onInput:e=>{e.target.value=Math.max(0,parseInt(e.target.value)).toString().slice(0,10)}}),(0,b.jsx)(x,{onChange:m})]}),(0,b.jsx)("div",{className:"mt-5",children:(0,b.jsx)("button",{className:"my-button ",type:"submit",children:"Submit"})})]})}),(0,b.jsx)("div",{children:(0,b.jsx)(l.Z,{title:"Confirm?",content:"This action can not be undone",open:n,handleClick:t=>{t&&(async()=>{await(0,o.W3)(h).then((t=>{console.log(t),e([1,1,t.message]),window.location.reload()})).catch((t=>e([1,2,t])))})(),d(!1)}})})]})};var j=s(103),N=s(87);const v=e=>{let{applicationDoc:t}=e;const{setFeedback:s}=(0,a.useContext)(c.m),[n,r]=(0,a.useState)(!1),{rollNumber:i,fullName:d,fathersName:h,gender:m,dob:u,program:x,specialization:p,batch:f,email:g,phoneNumber:v,createdAt:y,role:S}=t;return(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl md:text-4xl font-bold my-5",children:"Application Details"}),(0,b.jsx)("div",{className:"px-3 md:px-5 text-xs md:text-base",children:(0,b.jsx)(j.Z,{rows:[["User Type",S],["Roll Number",i],["Name",d],["Fathers Name",h],["Gender",m],["Date Of Birth",new Date(u).toDateString()],[""+("STUDENT"===S?"Program":"Desigination"),x],["Specialization",p],["Batch",f],["Email",g],["Phone Number",v],["Application Date",new Date(y).toDateString()]]})}),(0,b.jsx)("div",{children:(0,b.jsx)("p",{className:"font-extrabold",children:"Incorrect Details? Withdraw your application and submit again"})}),(0,b.jsxs)("div",{className:"my-3 flex gap-10 items-center justify-center",children:[(0,b.jsx)("button",{className:"my-button",onClick:()=>r(!0),children:"Withdraw Application"}),(0,b.jsx)(N.rU,{to:"print-application",children:(0,b.jsx)("button",{className:"my-button",children:"Print Application"})})]}),(0,b.jsx)("div",{children:(0,b.jsx)(l.Z,{title:"Confirm?",content:"This action can not be undone",open:n,handleClick:e=>{e&&(async()=>{await(0,o.rw)().then((e=>s({severity:"success",open:!0,message:e.message}))).catch((e=>s([1,2,e]))),window.location.reload()})(),r(!1)}})})]})},y=()=>{const[e,t]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{!1===e&&(async()=>{try{const{payload:e}=await(0,o.UM)();t(e)}catch(e){console.error(e)}})()}),[]),(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:"text-center",children:e?(0,b.jsx)(v,{applicationDoc:e}):(0,b.jsx)(g,{})})})};var S=s(146);const w=()=>{const e=(0,a.useRef)(),[t,s]=(0,a.useState)(!1);(0,a.useEffect)((()=>{!1===t&&(async()=>{try{const{payload:e}=await(0,o.UM)();s(e)}catch(e){console.error(e)}})()}),[]);const{rollNumber:n,fullName:l,fathersName:r,gender:i,dob:c,program:d,specialization:h,batch:m,email:u,phoneNumber:x,createdAt:p,role:f,imgUrl:g}=t,N=(0,S.useReactToPrint)({documentTitle:`${n} Library Form`,content:()=>e.current});return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,b.jsxs)("div",{className:"flex flex-col justify-center items-center my-10 gap-5",children:[(0,b.jsx)("p",{className:"text-lg font-bold",children:"PRESS PRINT BUTTON"}),(0,b.jsx)("button",{className:"my-button p-10",onClick:N,children:"PRINT PAGE"})]}),(0,b.jsxs)("div",{ref:e,className:"border  bg-white border-black h-[297mm] w-[210mm] flex flex-col text-center px-10 py-10",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("img",{className:"h-10 ",src:"https://sbssu.ac.in/images/Tricolor.png",alt:"sbssu logo"}),(0,b.jsx)("h1",{className:"text-2xl text-indigo-900 font-bold",children:"SBSSU Centeral Library"})]}),(0,b.jsx)("hr",{className:"border-black my-3"}),(0,b.jsx)("h1",{className:"text-4xl font-bold mt-5",children:"Library Form"}),(0,b.jsx)("div",{className:"mt-5",children:(0,b.jsxs)("p",{className:"text-right font-semibold",children:["Print Date: ",(new Date).toLocaleDateString()]})}),(0,b.jsxs)("div",{className:"flex items-center justify-center mt-5",children:[(0,b.jsx)("div",{children:(0,b.jsx)(j.Z,{rows:[["User Type",f],["Roll Number",n],["Name",l],["Fathers Name",r],["Gender",i],["Date Of Birth",new Date(c).toDateString()],[""+("STUDENT UG"===f||"STUDENT PG"===f?"Program":"Desigination"),d],["Specialization",h],["Batch",m],["Email",u],["Phone Number",x],["Application Date",new Date(p).toDateString()]]})}),(0,b.jsx)("div",{className:"w-[33%]",children:(0,b.jsx)("img",{className:"border border-black",src:g,alt:"image"})})]}),(0,b.jsxs)("div",{className:"flex justify-between mt-32 font-bold",children:[(0,b.jsxs)("div",{className:"w-48",children:[(0,b.jsx)("hr",{className:"w-full border-black"}),(0,b.jsx)("p",{className:"text-center",children:l})]}),(0,b.jsxs)("div",{className:"w-48",children:[(0,b.jsx)("hr",{className:"w-full border-black"}),"STUDENT"===f?(0,b.jsxs)("p",{children:["HOD ",h]}):(0,b.jsx)("p",{children:"HOD"})]})]}),(0,b.jsxs)("div",{className:"text-start mt-20",children:[(0,b.jsx)("h1",{className:"font-bold text-lg",children:"Library Rules:-"}),(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"font-bold",children:"1."})," Books are issued for 14 days."]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"font-bold",children:"2."})," A fine of \u20b91 per day is charged for late returns."]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"font-bold",children:"3."})," Each student can have up to two library cards, with one book issued per card."]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"font-bold",children:"4."})," Borrowers must replace any damaged or lost books."]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"font-bold",children:"5."})," Books can be renewed once, provided there are no reservations."]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"font-bold",children:"6."})," Library cards are for the exclusive use of the student to whom they are issued."]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"font-bold",children:"7."})," Please maintain silence and respectful behavior in the library."]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"font-bold",children:"8."})," Report lost library cards immediately; a fee may be charged for a replacement."]})]})]}),(0,b.jsxs)("div",{className:"mt-auto",children:[(0,b.jsx)("hr",{className:"border-black py-5"}),(0,b.jsx)("p",{className:"font-bold",children:"SHAHEED BHAGAT SINGH STATE UNIVERSITY CENTERAL LIBRARY"})]})]})]})})},A=()=>(0,b.jsxs)("div",{style:{boxShadow:"0px 10px 21px -10px rgba(174, 161, 255, 0.75)"},className:"bg-white h-16 px-5 md:h-20 md:px-10 flex  justify-between items-center",children:[(0,b.jsx)("img",{className:"h-10 ",src:"https://sbssu.ac.in/images/Tricolor.png",alt:"sbssu logo"}),(0,b.jsx)("h1",{className:"text-2xl text-indigo-900 font-bold",children:"SBSSU Library Portal"})]}),k=()=>(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(A,{}),(0,b.jsxs)(n.Z5,{children:[(0,b.jsx)(n.AW,{index:!0,element:(0,b.jsx)(y,{})}),(0,b.jsx)(n.AW,{path:"/print-application",element:(0,b.jsx)(w,{})})]})]})},201:(e,t,s)=>{s.d(t,{Fm:()=>c,PN:()=>o,XA:()=>h,m4:()=>d,mr:()=>i,nd:()=>m,p6:()=>l});var a=s(573);const n=(e,t)=>{const s={};for(var a=0;a<t.length;a++)s[t[a]]=e[t[a]];return s},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`},r={timeZone:"Asia/Kolkata",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"},i=e=>new Date(e).toLocaleString("en-US",r),o=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((t=>Object.values(n(t,e))))},c=(e,t)=>{const s={};return Object.keys(e).map((t=>{""!==e[t]&&(s[t]=e[t])})),a.Z.stringify({...a.Z.parse(t),...s})},d=(e,t)=>{const s=document.createElement("canvas"),a=e.naturalWidth/e.width,n=e.naturalHeight/e.height;s.width=t.width*a,s.height=t.height*n;const l=s.getContext("2d");return l&&l.drawImage(e,t.x*a,t.y*n,t.width*a,t.height*n,0,0,s.width,s.height),new Promise((e=>{s.toBlob((t=>{e(t)}),"image/jpeg",1)}))},h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.map((e=>Object.values(n({...e},t))))},m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t="",s=!0;return e.forEach((a=>{s?(t+=`(${e.length}) `+a.accessionNumber,s=!1):t+=", "+a.accessionNumber})),t};return e.map((e=>Object.values(n({...e,accessionNumber:s(e.accessionNumbers)},t))))}}}]);
//# sourceMappingURL=903.4850fd85.chunk.js.map