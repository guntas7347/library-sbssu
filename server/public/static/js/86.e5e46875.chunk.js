"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[86],{18:(e,s,t)=>{t.d(s,{Z:()=>n});var a=t(184);const n=e=>{let{title:s="Confirm?",content:t="This action can not be undone",open:n,handleClick:l,agreeMessage:r="Agree",disagreeMessage:i="Disagree"}=e;return(0,a.jsx)("div",{className:`${!n&&"hidden"} fixed z-50 left-0 top-0 h-full w-full bg-black bg-opacity-50 flex justify-center`,children:(0,a.jsxs)("div",{className:"bg-white p-10 m-auto flex flex-col gap-10",children:[(0,a.jsx)("h1",{className:"text-center text-lg font-semibold",children:s}),(0,a.jsxs)("div",{children:[" ",t]}),(0,a.jsxs)("div",{className:"flex gap-5 justify-center items-center",children:[(0,a.jsx)("button",{className:"my-button",onClick:()=>{l(!1)},children:i}),(0,a.jsx)("button",{className:"my-button",onClick:()=>{l(!0)},children:r})]})]})})}},727:(e,s,t)=>{t.d(s,{Z:()=>n});t(791);var a=t(184);const n=e=>{let{children:s,onClose:t}=e;return(0,a.jsx)("div",{className:"fixed top-0 left-0 h-screen w-screen z-1 bg-slate-600/90",children:(0,a.jsx)("div",{onClick:e=>{e.target===e.currentTarget&&t()},className:"flex justify-center h-screen items-center ",children:s})})}},103:(e,s,t)=>{t.d(s,{Z:()=>n});var a=t(184);const n=e=>{let{rows:s,imgUrl:t=null}=e;return(0,a.jsx)("table",{children:(0,a.jsxs)("tbody",{children:[s.map(((e,s)=>(0,a.jsx)("tr",{children:e.map(((e,s)=>(0,a.jsx)("td",{className:"text-left w-96",children:e},s)))},s))),t&&(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"text-left w-96",children:"Image"}),(0,a.jsx)("td",{children:(0,a.jsx)("img",{className:"w-52 h-52",src:t,alt:"image"})})]})]})})}},223:(e,s,t)=>{t.d(s,{rr:()=>g,KM:()=>T,xD:()=>u,SG:()=>v,ZA:()=>Z,DX:()=>o,gC:()=>E,w6:()=>$,jC:()=>S,nA:()=>d,bV:()=>O,dU:()=>x,Wo:()=>f,Km:()=>D,eU:()=>P,tr:()=>R,Fe:()=>_,wA:()=>h,t8:()=>k,P1:()=>N,ux:()=>y,QX:()=>I,$L:()=>W,Gy:()=>A,LC:()=>b,In:()=>L,P4:()=>U,wz:()=>q,UR:()=>M,Mi:()=>C,sq:()=>m,tL:()=>V,bh:()=>K,ty:()=>z,wp:()=>G,P5:()=>Y,xJ:()=>B,vs:()=>w,K7:()=>j,hu:()=>p,L8:()=>i,Nm:()=>F,wN:()=>c});var a=t(353),n=t.n(a);const l="3dce05be7c8e1bebc039ccd19cadcc54",r="/api/admin",i=function(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise(((l,i)=>{fetch(`${r}/${e}`,(e=>({method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}))(s)).then((async s=>{if(Array.isArray(t)||(t=[t]),0===t.length)return void i(`CRS UNDEFINED at ${e}`);if(a){const e=s.headers.get("Content-Disposition").split("filename=")[1].replace(/^"|"$/g,"");return n()(await s.blob(),e),void l("File Downloaded Successfully")}const r=await s.json();t.includes(r.status)?null===r.payload?l(r.message):l(r.payload):(!function(e){let{status:s,message:t,payload:a}=e;arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?console.error({status:s,message:t,payload:a}):console.log({status:s,message:t,payload:a})}(r,!1),i(r.message))})).catch((e=>{console.log(e),i(a?"Download Failed":"Could not connect to Server")}))}))},c=e=>i(`/search?${e&&e}`,{},["SRH200GLB"]),o=e=>i("students/create-new-student",e,["STU201CNS"]),d=e=>i("students/edit-existing-student",e,["STU200ES"]),m=e=>i("students/fetch-student-by-roll-number",{membershipId:e},["STU200FSBRN"]),u=e=>i("students/allot-library-card-to-student",e,["STU200ALCTS"]),h=e=>i(`students/fetch-all-students?${e&&e}`,{},["STU200FAS"]),x=e=>i(`students/fetch-all-applications?${e&&e}`,{},"STU200FAA"),b=e=>i("students/fetch-one-application",{_id:e},"APP200FA"),j=e=>i("students/process-application",e,["APP200APA","APP200RPA"]),g=e=>i("/books/add-new-book",e,"BKS200ANB"),p=e=>i("/books/quick-add",e,"BKS200ABA"),f=e=>i(`books/fetch-all-books?${e&&e}`,{},"BKS200FAB"),N=e=>i("books/fetch-book-by-isbn",{isbn:e},"BKS200FBBI"),v=e=>i("books/add-book-accession",e,"BKS200ABA"),y=e=>i("books/fetch-book-by-id",{_id:e},"BKS200FBDBI"),S=e=>i("books/edit-existing-book",e,"BKS200EB"),k=e=>i("books/fetch-book-by-accession-number",{accessionNumber:e},"BKS200FBBAN"),C=e=>i("students/fetch-student-by-id",{_id:e},"STU200FSBI"),w=e=>i("books/issue-books/issue-new-book",e,"ISB200INB"),A=e=>i("books/issue-books/fetch-issued-book-by-accession-number",{accessionNumber:e},"ISB200FIBBAN"),F=e=>i("books/return-books/return-issued-book",e,"ISB200RIB"),B=e=>i("books/issue-books/calculate-issue-book-fine",e,"ISB200CIBF"),D=e=>i(`fines/fetch-all-fines?${e&&e}`,{},"FIN200FAF"),I=e=>i("fines/fetch-fine-doc",{_id:e},"FIN200FFBI"),T=e=>i("fines/add-reciept-number",e,"FIN200ARN"),P=e=>i(`books/issue-books/fetch-all-issued-books?${e&&e}`,{},"ISB200FAIB"),E=e=>i("books/issue-books/download-all-issued-books",e,"",!0),R=e=>i(`books/return-books/fetch-all-returned-books?${e&&e}`,{},"ISB200FARB"),$=e=>i(`books/return-books/download-all-returned-books?${e&&e}`,{},"",!0),U=e=>i("books/return-books/fetch-returned-book",{_id:e},"ISB200FRB"),W=e=>i("books/issue-books/fetch-issued-book",{_id:e},"ISB200FIB"),Z=e=>i("staff/create-new-staff",e,["AUTH200AADM"]),_=e=>i("staff/search-all-staff",e,["STF200FAS"]),M=e=>i("staff/fetch-staff-by-id",{_id:e},["STF200FSBI"]),L=()=>i("staff/fetch-profile",{},["STF200FSBI"]),O=(e,s)=>i("staff/edit-staff",{_id:e,update:s},["STF201ESDI"]),z=function(){return i("books/issue-books/count-issued-books",{filter:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null},"ISB200CIBD")},G=function(){return i("books/return-books/count-returned-books",{filter:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null},"REB200CRBD")},K=()=>i("books/count-book-accessions",{},"BKS200CTBA"),Y=function(){return i("students/count-total-students",{filter:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null},"STU200CTS")},q=()=>new Promise(((e,s)=>{fetch(`${r}/settings/get-academic-programs`,{}).then((async t=>{const a=t.status,{data:n}=await t.json();200===a?e(n):s(n)})).catch((e=>s(e)))})),V=async()=>{const e=l;return new Promise((s=>{fetch(`https://api.openweathermap.org/data/2.5/weather?lat=30.914519&lon=74.652159&appid=${e}`).then((async e=>{const t=await e.json(),a=t.weather[0],n={temp:(t.main.temp-273.15).toFixed(1),feels_like:(t.main.feels_like-273.15).toFixed(1),description:a.description,icon:a.icon,city:t.name};s(n)})).catch((e=>{console.log(e),s("Unable to Fetch")}))}))}},86:(e,s,t)=>{t.r(s),t.d(s,{default:()=>Ee});var a=t(689),n=t(87),l=t(791),r=t(874),i=t(223),c=t(258),o=t(184);const d=e=>{let{path:s,img:t,result:n}=e;const l=(0,a.s0)();return(0,o.jsxs)("div",{className:"p-3 flex gap-5 justify-start items-center cursor-pointer hover:bg-slate-100",onClick:()=>l(`/dashboard/admin${s}`),children:[(0,o.jsx)("i",{className:`fa-solid fa-${t}`}),(0,o.jsx)("p",{children:n})]})},m=()=>{const{setFeedback:e}=(0,l.useContext)(c.m),{formFields:s,handleChange:t,resetFormFields:a}=(0,r.c)({search:""}),{search:n}=s,[m,u]=(0,l.useState)({}),h=""!==n;return(0,l.useEffect)((()=>{if(h){const s=setTimeout((async()=>{await(0,i.wN)(`search=${n}`).then((e=>u(e))).catch((s=>e([1,2,s])))}),1e3);return()=>clearTimeout(s)}}),[n]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"relative flex  justify-center items-center",children:[(0,o.jsx)("i",{className:"fa-solid fa-magnifying-glass absolute left-2.5"}),(0,o.jsx)("input",{className:"pl-8 pr-1 h-8 w-full",type:"text",placeholder:"Search...",name:"search",value:n,onChange:t})]}),h&&(0,o.jsx)("div",{onClick:()=>a(),className:" bg-gray-300 absolute max-h-80  overflow-hidden z-10 w-96 rounded-xl rounded-t-none",children:Object.keys(m).map(((e,s)=>m[e].map((t=>{switch(e){case"members":return(0,o.jsx)("div",{children:(0,o.jsx)(d,{result:t.fullName,img:"user",path:`/manage-members/search-members/${t._id}`})},s);case"books":return(0,o.jsx)("div",{children:(0,o.jsx)(d,{result:t.title,img:"book",path:`/manage-books/search-books/${t._id}`})},s);case"accessions":return(0,o.jsx)("div",{children:(0,o.jsx)(d,{result:t.bookId.title,img:"book",path:`/manage-books/search-books/${t.bookId._id}`})},s);default:return}}))))})]})};var u=t(302);const h=()=>{const e=(0,a.s0)(),[s,t]=(0,l.useState)(!1),r=e=>{let{to:s,label:t}=e;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{children:(0,o.jsx)(n.rU,{to:s,children:(0,o.jsx)("button",{className:"rounded-xl  h-14 hover:bg-violet-300 min-w-56",children:t})})})})};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{style:{boxShadow:"0px 10px 21px -10px rgba(174, 161, 255, 0.75)"},className:"bg-white flex flex-row items-center h-20 gap-5 px-5",children:[(0,o.jsx)("div",{onClick:()=>{t(!s)},className:"flex flex-row justify-center items-center hover:bg-gray-400 active:opacity-75 rounded-full h-12 w-12",children:(0,o.jsx)("i",{className:"fa-solid fa-bars fa-xl"})}),(0,o.jsx)("div",{className:"font-bold text-2xl",onClick:()=>e("/dashboard/admin"),children:(0,o.jsx)("label",{className:"cursor-pointer",children:"Staff Dashboard"})}),(0,o.jsx)("div",{className:"w-96",children:(0,o.jsx)(m,{})}),(0,o.jsx)("div",{className:"ml-auto",children:(0,o.jsx)(r,{label:"Sign Out",to:"/admin"})})]}),(0,o.jsxs)("div",{style:{borderTop:"1px solid rgba(174, 161, 255, 0.75)"},className:`absolute flex flex-col gap-3 items-center bg-white z-50  pt-2 -left-60 w-60 transition-left min-h-screen duration-500 ${s&&"left-1"}`,children:[(0,o.jsx)(r,{label:"Home",to:"/dashboard/admin"}),(0,o.jsx)(r,{label:"Profile",to:"/dashboard/admin/profile"}),(0,o.jsx)(r,{label:"Issue / Return Books",to:"/dashboard/admin/issue-books"}),(0,o.jsx)(r,{label:"Manage Fine",to:"/dashboard/admin/manage-fines"}),(0,o.jsx)(r,{label:"Manage Books",to:"/dashboard/admin/manage-books"}),(0,o.jsx)(r,{label:"Manage Members",to:"/dashboard/admin/manage-members"}),(0,o.jsx)(r,{label:"Manage Staff",to:"/dashboard/admin/manage-staff"}),(0,o.jsx)(r,{label:"Database (BETA)",to:"/dashboard/admin/database"})]})]})},x=()=>{const[e,s]=(0,l.useState)({temp:"Loading...",feels_like:"Loading...",description:"Loading...",icon:"Loading...",city:"Loading..."});return(0,l.useEffect)((()=>{(async()=>{try{const e=await(0,i.tL)();s(e)}catch(e){console.log(e)}})()}),[]),(0,o.jsxs)("div",{className:"h-96 bg-violet-300 rounded-3xl p-10 ",children:[(0,o.jsx)("img",{src:`https://openweathermap.org/img/wn/${e.icon}@2x.png`,alt:""}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{children:(0,o.jsxs)("p",{children:["Temperature ",e.temp," C"]})}),(0,o.jsx)("div",{children:(0,o.jsxs)("p",{children:["Feels Like ",e.feels_like," C"]})}),(0,o.jsx)("div",{children:(0,o.jsxs)("p",{children:[e.description," at ",e.city]})})]})]})},b=()=>{const[e,s]=(0,l.useState)("Loading..."),[t,a]=(0,l.useState)("Loading...");return(0,l.useEffect)((()=>{(async()=>{try{const e=await(0,i.ty)(),t=await(0,i.ty)({issueDate:{$gte:new Date((new Date).getTime()-6048e5)}});s(e),a(t)}catch(e){console.log(e)}})()}),[]),(0,o.jsxs)("div",{className:"bg-indigo-500 rounded-3xl p-10",children:[(0,o.jsx)("p",{children:"Current Issues"}),(0,o.jsxs)("p",{children:[e," Books"]}),(0,o.jsxs)("p",{children:[t," (last 7 days)"]})]})},j=()=>{const[e,s]=(0,l.useState)("Loading..."),[t,a]=(0,l.useState)("Loading...");return(0,l.useEffect)((()=>{(async()=>{try{const e=await(0,i.wp)(),t=await(0,i.wp)({returnDate:{$gte:new Date((new Date).getTime()-6048e5)}});s(t),a(e)}catch(e){console.log(e)}})()}),[]),(0,o.jsxs)("div",{className:"bg-violet-500 rounded-3xl p-10",children:[(0,o.jsx)("p",{children:"Total Returns"}),(0,o.jsxs)("p",{children:[t," Books"]}),(0,o.jsxs)("p",{children:[e," (last 7 days)"]})]})},g=()=>{const[e,s]=(0,l.useState)("Loading..."),[t,a]=(0,l.useState)("Loading...");return(0,l.useEffect)((()=>{(async()=>{try{const e=await(0,i.P5)(),t=await(0,i.P5)({createdAt:{$gte:new Date((new Date).getTime()-2592e6)}});s(e),a(t)}catch(e){console.log(e)}})()}),[]),(0,o.jsxs)("div",{className:"bg-purple-500 rounded-3xl p-10",children:[(0,o.jsx)("p",{children:"Total Members"}),(0,o.jsx)("p",{children:e}),(0,o.jsxs)("p",{children:[t," (Added last 30 days)"]})]})},p=()=>{const[e,s]=(0,l.useState)("Loading...");return(0,l.useEffect)((()=>{(async()=>{try{const e=await(0,i.bh)();s(e)}catch(e){console.log(e)}})()}),[]),(0,o.jsxs)("div",{className:"bg-pink-400 rounded-3xl p-10",children:[(0,o.jsx)("p",{children:"Total Books"}),(0,o.jsx)("p",{children:e}),(0,o.jsx)("p",{children:"Books :)"})]})};var f=t(967),N=t(623);f.kL.register(...f.zX);const v=()=>(0,o.jsxs)("div",{className:"rounded-3xl bg-white px-10 py-4 flex flex-col gap-3",children:[(0,o.jsx)("strong",{className:"text-2xl",children:"Usage Statistics"}),(0,o.jsxs)("p",{children:["Unveiling the Library's Pulse: Dive into data on visits, searches, borrowing, and digital resource usage to enhance services."," "]}),(0,o.jsx)("div",{children:(0,o.jsx)(N.x1,{data:{labels:["Dec 31","Jan 7","Jan 14","Jan 21","Jan 28","Feb 4","Feb 11","Feb 18","Feb 25"],datasets:[{label:"Books Issued",data:[63,58,61,20,63,49,60,67,24],fill:!1,borderColor:"rgba(75,192,192,1)",borderWidth:2}]}})})]}),y=()=>{const{userName:e}=(0,l.useContext)(u.V);return(0,o.jsxs)("div",{className:"",children:[(0,o.jsxs)("div",{className:"flex flex-row my-5 relative",children:[(0,o.jsxs)("div",{className:"flex-start",children:[(0,o.jsxs)("h1",{className:"text-4xl font-bold mb-2",children:["Welcome ",e.split(" ")[0],","]}),(0,o.jsxs)("span",{children:["All systes are running smoothly! You have"," ",(0,o.jsx)("a",{href:"",children:"0 unread alerts"})]})]}),(0,o.jsx)("div",{className:"ml-auto flex flex-col bg-white relative h-10 px-3 justify-center",children:(0,o.jsx)("span",{children:(new Date).toDateString()})})]}),(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,o.jsx)(x,{}),(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-white",children:[(0,o.jsx)(b,{}),(0,o.jsx)(j,{}),(0,o.jsx)(g,{}),(0,o.jsx)(p,{})]}),(0,o.jsx)(v,{}),(0,o.jsx)(v,{})]})]})},S=e=>(0,o.jsxs)("div",{className:"flex flex-row gap-5 justify-between items-center",children:[(0,o.jsx)("label",{className:"text-xl",htmlFor:e.htmlFor,children:e.label}),(0,o.jsx)("input",{className:`border border-black px-1 w-60 text-xl ${e.inputclassname&&e.inputclassname}`,required:!0,...e})]});var k=t(18);const C=()=>{const{setFeedback:e}=(0,l.useContext)(c.m),[s,t]=(0,l.useState)(!1),{formFields:a,handleChange:n}=(0,r.c)({isbn:"",title:"",author:"",placeAndPublishers:"",publicationYear:"",pages:"",volume:"",source:"",cost:"",callNumber:""}),{title:d,author:m,isbn:u,volume:h,pages:x,source:b,cost:j,callNumber:g,publicationYear:p,placeAndPublishers:f}=a;return(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-center font-bold text-3xl my-2",children:"Add New Book"}),(0,o.jsx)("div",{className:"bg-white p-5 rounded-3xl",children:(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(!0)},children:[(0,o.jsxs)("div",{className:"grid md:grid-cols-2 gap-x-28 gap-5 justify-center items-center",children:[(0,o.jsx)(S,{label:"Title",type:"text",name:"title",value:d,onChange:n}),(0,o.jsx)(S,{label:"Author",type:"text",name:"author",value:m,onChange:n}),(0,o.jsx)(S,{label:"ISBN Number",type:"number",name:"isbn",value:u,onChange:n}),(0,o.jsx)(S,{label:"Place and Publishers",type:"text",name:"placeAndPublishers",value:f,onChange:n}),(0,o.jsx)(S,{label:"Publication Year",type:"number",name:"publicationYear",value:p,onChange:n}),(0,o.jsx)(S,{label:"Pages",type:"number",name:"pages",value:x,onChange:n}),(0,o.jsx)(S,{label:"Volume",type:"text",name:"volume",value:h,onChange:n}),(0,o.jsx)(S,{label:"Source",type:"text",name:"source",value:b,onChange:n}),(0,o.jsx)(S,{label:"Price",type:"number",name:"cost",value:j,onChange:n}),(0,o.jsx)(S,{label:"Call Number",type:"number",name:"callNumber",value:g,onChange:n})]}),(0,o.jsx)("div",{className:"mt-5 flex flex-row justify-center",children:(0,o.jsx)("button",{className:"my-button",type:"submit",children:"Submit"})})]})}),(0,o.jsx)("div",{children:(0,o.jsx)(k.Z,{open:s,handleClick:s=>{s&&(async()=>{await(0,i.rr)(a).then((s=>{e([1,1,s])})).catch((s=>e([1,2,s])))})(),t(!1)}})})]})},w=e=>{let{rows:s=[],columns:t=[],handleRowClick:a=(()=>{}),indexToSelect:n=0}=e;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:"container-customTable",children:(0,o.jsxs)("table",{children:[(0,o.jsx)("thead",{children:(0,o.jsx)("tr",{children:t.map(((e,s)=>(0,o.jsx)("th",{children:e},s)))})}),(0,o.jsx)("tbody",{children:s.map(((e,s)=>(0,o.jsx)("tr",{onClick:()=>a(e[n]),children:e.map(((e,s)=>{if(0!==s)return(0,o.jsx)("td",{children:e},s)}))},s)))})]})})})};var A=t(201),F=t(30);const B=()=>{const[e]=(0,n.lr)(),s=(()=>{const s={};for(let[t,a]of e.entries())s[t]=a;return s})();return{params:s,queryString:(0,A.Fm)(s)}},D=e=>{let{selectFields:s}=e;const t=(0,a.s0)(),{queryString:n}=B(),{formFields:i,handleChange:c}=(0,r.c)({filter:s[0].value,filterValue:""});return(0,l.useEffect)((()=>{const e=setTimeout((()=>{if(""!==i.filter||""!==i.filterValue){const e=(0,A.Fm)({filter:i.filter,filterValue:i.filterValue},n);t(`?${e}`)}}),1e3);return()=>clearTimeout(e)}),[i]),(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"flex items-center gap-5",children:[(0,o.jsx)(F.Z,{fields:s,label:"Search By",onChange:c,value:i.filter,name:"filter"}),(0,o.jsx)(S,{label:"Value",name:"filterValue",onChange:c})]})})},I=e=>{let{totalPages:s=1}=e;const t=(0,a.s0)(),{queryString:n,params:l}=B(),i=Number(l.page)||1,{formFields:c,handleChange:d,setFormFields:m}=(0,r.c)({pageNumber:l.page?Number(l.page):1});return(0,o.jsxs)("div",{className:"flex gap-10 justify-center items-center my-2",children:[(0,o.jsx)("button",{className:"my-button",onClick:()=>{m({pageNumber:c.pageNumber-1});const e=(0,A.Fm)({page:c.pageNumber-1},n);t(`?${e}`)},disabled:i<2,children:"Prev"}),(0,o.jsxs)("p",{className:"bg-custom-dark-blue p-3 text-white rounded min-w-12 text-center disabled",children:[i," of ",s]}),(0,o.jsx)("button",{className:"my-button",onClick:()=>{m({pageNumber:c.pageNumber+1});const e=(0,A.Fm)({page:c.pageNumber+1},n);t(`?${e}`)},disabled:i>=s,children:"Next"}),(0,o.jsxs)("div",{className:"flex gap-5",children:[(0,o.jsx)("input",{className:"bg-custom-dark-blue p-3 w-32 text-white",type:"number",placeholder:"Go To",min:1,max:s,onChange:d,name:"pageNumber",onInput:e=>{e.target.value=e.target.value>s?s:e.target.value}}),(0,o.jsx)("button",{className:"my-button",onClick:()=>{const e=(0,A.Fm)({page:c.pageNumber},n);t(`?${e}`)},children:"Jump"})]})]})},T=()=>{const e=(0,a.s0)(),{queryString:s}=B(),{setFeedback:t}=(0,l.useContext)(c.m),[n,r]=(0,l.useState)(1),[d,m]=(0,l.useState)([]);return(0,l.useEffect)((()=>{(async()=>{await(0,i.Wo)(s).then((e=>{0!==e.booksArray.length?(r(e.totalPages),m((0,A.nd)(e.booksArray,["_id","accessionNumber","title","author","placeAndPublishers","publicationYear"]))):t([1,2,"No Data Found"])})).catch((e=>{t([1,2,e])}))})()}),[s]),(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-center font-bold text-3xl my-2",children:"Search Books"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"flex  justify-between my-5 bg-white p-5 rounded-3xl",children:(0,o.jsx)(D,{selectFields:[{name:"Search All Books",value:"fetchAllBooks"},{name:"Accession Number",value:"accessionNumber"}]})}),(0,o.jsx)("div",{className:"",children:(0,o.jsx)(w,{columns:["Accession Number","Title","Author","Place And Publishers","Publication Year"],rows:d,handleRowClick:s=>e(s)})})]}),(0,o.jsx)(I,{totalPages:n})]})};var P=t(103);const E=e=>{let{to:s,label:t}=e;return(0,o.jsx)(n.rU,{to:s,className:"min-w-60",children:(0,o.jsx)("button",{className:"my-button w-full",children:t})})},R=()=>{const{_id:e}=(0,a.UO)(),[s,t]=(0,l.useState)([]),{title:n,author:r,placeAndPublishers:c,publicationYear:d,source:m,cost:u,accessionNumbers:h,pages:x,createdAt:b}=s;(0,l.useEffect)((()=>{(async()=>{await(0,i.ux)(e).then((e=>{t({...e,accessionNumbers:j(e.accessionNumbers)})})).catch((()=>{t({title:"Book not found"})}))})()}),[e]);const j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s="",t=!0;return e.forEach((a=>{t?(s+=`(${e.length}) `+a.accessionNumber,t=!1):s+=", "+a.accessionNumber})),s};return(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-center font-bold text-3xl my-2",children:"Book Details"}),(0,o.jsx)(P.Z,{rows:[["Title",n],["Author",r],["Place And Publishers",c],["Publication Year",d],["Pages",x],["Source",m],["Cost",u],["Accession Numbers",h],["Book added on",(0,A.mr)(b)]]}),(0,o.jsx)("div",{className:"my-5",children:(0,o.jsx)(E,{to:"edit-book",label:"Edit Book Details"})})]})},$=()=>{const e="/dashboard/admin/manage-books";return(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-center font-bold text-4xl my-5",children:"Manage Books"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 gap-5 place-items-center",children:[(0,o.jsx)(E,{to:`${e}/add-book`,label:"Add new Book"}),(0,o.jsx)(E,{to:`${e}/add-book-accession`,label:"Add Book Accession"}),(0,o.jsx)(E,{to:`${e}/search-books`,label:"Search Books"})]})," "]})},U=()=>{const e=(0,a.s0)(),{setFeedback:s}=(0,l.useContext)(c.m),[t,n]=(0,l.useState)(!1),[d,m]=(0,l.useState)(!1),[u,h]=(0,l.useState)([]),{formFields:x,handleChange:b}=(0,r.c)({isbn:"",accessionNumber:""}),{isbn:j}=x;return(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-center font-bold text-3xl my-2",children:"Add Accession number to Book"}),(0,o.jsxs)("div",{className:"bg-white p-5 rounded-3xl",children:[(0,o.jsxs)("div",{className:"flex flex-row justify-around items-center",children:[(0,o.jsx)(S,{label:"Book's ISBN",name:"isbn",type:"text",value:j,disabled:t,onChange:b}),(0,o.jsx)("button",{className:"my-button",disabled:t,onClick:async()=>{await(0,i.P1)(j).then((async e=>{h((0,A.PN)([e],["_id","isbn","title","author","publicationYear","cost"])),n(!0)})).catch((e=>{s([1,2,e])}))},children:"Fetch Book"})]}),t?(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"my-10",children:(0,o.jsx)(w,{columns:["ISBN","Title","Author","Publication Year","Price"],rows:u,handleRowClick:s=>{e(`/dashboard/admin/manage-books/search-books/${s}`)}})}),(0,o.jsx)("div",{className:" ",children:(0,o.jsx)("form",{onSubmit:e=>{e.preventDefault(),m(!0)},children:(0,o.jsxs)("div",{className:"grid grid-cols-3 gap-5 items-center",children:[(0,o.jsx)(S,{label:"ISBN",type:"number",name:"isbn",value:j,disabled:!0,InputLabelProps:{shrink:!0}}),(0,o.jsx)(S,{label:"Accession Number",type:"number",name:"accessionNumber",onChange:b}),(0,o.jsx)("div",{className:"flex flex-row justify-center",children:(0,o.jsx)("button",{className:"my-button",type:"submit",children:"Submit"})})]})})})]}):"",(0,o.jsx)("br",{})]}),(0,o.jsx)("div",{children:(0,o.jsx)(k.Z,{title:"Confirm?",content:"This action can not be undone",open:d,handleClick:e=>{e&&(async()=>{await(0,i.SG)(x).then((e=>{s([1,1,e])})).catch((e=>s([1,2,e])))})(),m(!1)}})})]})},W=()=>{const{_id:e}=(0,a.UO)(),{setFeedback:s}=(0,l.useContext)(c.m),{formFields:t,handleChange:n,setFormFields:d}=(0,r.c)({isbn:"",title:"",author:"",placeAndPublishers:"",publicationYear:"",pages:"",volume:"",source:"",cost:"",callNumber:""}),{title:m,author:u,isbn:h,volume:x,pages:b,source:j,cost:g,callNumber:p,publicationYear:f,placeAndPublishers:N}=t;return(0,l.useEffect)((()=>{(async()=>{await(0,i.ux)(e).then((e=>d(e))).catch((e=>s([1,2,e])))})()}),[]),(0,o.jsxs)("div",{className:"",children:[(0,o.jsx)("h1",{className:"text-center font-bold text-3xl my-5",children:"Edit Book Details"}),(0,o.jsx)("div",{className:"bg-white p-5 rounded-3xl",children:(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async()=>{await(0,i.jC)(t).then((e=>s([1,1,e]))).catch((e=>s([1,2,e])))})()},children:[(0,o.jsxs)("div",{className:"grid md:grid-cols-2 gap-x-10 gap-5 justify-center items-center",children:[(0,o.jsx)("div",{children:(0,o.jsx)(S,{label:"Title",type:"text",name:"title",value:m,onChange:n})}),(0,o.jsx)("div",{children:(0,o.jsx)(S,{label:"Author",type:"text",name:"author",value:u,onChange:n})}),(0,o.jsx)("div",{children:(0,o.jsx)(S,{label:"ISBN Number",type:"number",name:"isbn",value:h,onChange:n})}),(0,o.jsx)("div",{children:(0,o.jsx)(S,{label:"Place and Publishers",type:"text",name:"placeAndPublishers",value:N,onChange:n})}),(0,o.jsx)("div",{children:(0,o.jsx)(S,{label:"Publication Year",type:"number",name:"publicationYear",value:f,onChange:n})}),(0,o.jsx)("div",{children:(0,o.jsx)(S,{label:"Pages",type:"number",name:"pages",value:b,onChange:n})}),(0,o.jsx)("div",{children:(0,o.jsx)(S,{label:"Volume",type:"text",name:"volume",value:x,onChange:n})}),(0,o.jsx)("div",{children:(0,o.jsx)(S,{label:"Source",type:"text",name:"source",value:j,onChange:n})}),(0,o.jsx)("div",{children:(0,o.jsx)(S,{label:"Price",type:"number",name:"cost",value:g,onChange:n})}),(0,o.jsx)("div",{children:(0,o.jsx)(S,{label:"Call Number",type:"number",name:"callNumber",value:p,onChange:n})})]}),(0,o.jsx)("div",{className:"mt-5 flex flex-row justify-center gap-5",children:(0,o.jsx)("button",{className:"my-button",style:{backgroundColor:"green"},type:"submit",children:"Save"})})]})})]})},Z=()=>(0,o.jsxs)(a.Z5,{children:[(0,o.jsx)(a.AW,{index:!0,element:(0,o.jsx)($,{})}),(0,o.jsx)(a.AW,{path:"/add-book/",element:(0,o.jsx)(C,{})}),(0,o.jsx)(a.AW,{path:"/add-book-accession/",element:(0,o.jsx)(U,{})}),(0,o.jsx)(a.AW,{path:"/search-books/",element:(0,o.jsx)(T,{})}),(0,o.jsx)(a.AW,{path:"/search-books/:_id",element:(0,o.jsx)(R,{})}),(0,o.jsx)(a.AW,{path:"/search-books/:_id/edit-book",element:(0,o.jsx)(W,{})})]}),_=()=>{const e="/dashboard/admin/manage-members";return(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-center font-bold text-4xl my-5",children:"Manage Members"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 gap-5 place-items-center",children:[(0,o.jsx)(E,{to:`${e}/add-member`,label:"Add new Member"}),(0,o.jsx)(E,{to:`${e}/add-member/add-member-card`,label:"Add Library Card"}),(0,o.jsx)(E,{to:`${e}/approve-members`,label:"Approve Members"}),(0,o.jsx)(E,{to:`${e}/search-members`,label:"Search Members"})]})]})},M=()=>{const{setFeedback:e}=(0,l.useContext)(c.m),[s,t]=(0,l.useState)([{name:"",value:"",branches:[{name:"",value:""}]}]),[a,n]=(0,l.useState)(!1),{formFields:d,handleChange:m,resetFormFields:u}=(0,r.c)({rollNumber:"",fullName:"",fathersName:"",dob:"",gender:"",category:"",program:"",specialization:"",batch:"",email:"",phoneNumber:"",role:"STUDENT UG"}),{rollNumber:h,fullName:x,fathersName:b,dob:j,gender:g,category:p,program:f,specialization:N,batch:v,email:y,phoneNumber:C,role:w}=d;(0,l.useEffect)((()=>{(async()=>{const e=await(0,i.wz)();t(e)})()}),[]);return(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-center font-bold text-3xl my-2",children:"Add Member"}),(0,o.jsx)("div",{className:"bg-white p-5 rounded-3xl",children:(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(!0)},children:[(0,o.jsxs)("div",{className:"grid md:grid-cols-2 gap-x-10 gap-5 justify-center items-center",children:[(0,o.jsx)(F.Z,{label:"User Type",name:"role",fields:[{name:"STUDENT UG",value:"STUDENT UG"},{name:"STUDENT PG",value:"STUDENT PG"},{name:"TEACHER REGULAR",value:"TEACHER REGULAR"},{name:"TEACHER ADHOC",value:"TEACHER ADHOC"},{name:"NON TEACHING STAFF",value:"NON TEACHING STAFF"}],value:w,onChange:m}),(0,o.jsx)(S,{label:"Roll Number",type:"number",name:"rollNumber",value:h,onChange:m,required:!1,onInput:e=>{e.target.value=Math.max(0,parseInt(e.target.value)).toString().slice(0,6)}}),(0,o.jsx)(F.Z,{label:"Batch",name:"batch",fields:(()=>{const e=[];for(let s=(new Date).getFullYear();s>=(new Date).getFullYear()-6;s--)e.push({name:s.toString(),value:s});return e})(),value:v,onChange:m}),(0,o.jsx)(S,{label:"Name",type:"text",name:"fullName",value:x,onChange:m}),(0,o.jsx)(S,{label:"Father's Name",type:"text",name:"fathersName",value:b,onChange:m}),(0,o.jsx)(S,{label:"Date of Birth",type:"date",name:"dob",value:j,onChange:m}),(0,o.jsx)(F.Z,{label:"Gender",name:"gender",fields:[{name:"Male",value:"male"},{name:"Female",value:"female"},{name:"Other",value:"other"}],value:g,onChange:m}),(0,o.jsx)(F.Z,{label:"Category",name:"category",fields:[{name:"General",value:"general"},{name:"SC/ST",value:"SCST"},{name:"Other",value:"other"}],value:p,onChange:m}),"STUDENT UG"===w||"STUDENT PG"===w?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(F.Z,{label:"Program",name:"program",fields:s,value:f,onChange:m}),(0,o.jsx)(F.Z,{label:"Specialization",name:"specialization",fields:(()=>{try{const e=s.find((e=>e.value===f));return e&&Object.hasOwnProperty.call(e,"branches")?e.branches:[{name:"",value:""}]}catch(e){return[{name:"",value:""}]}})(),value:N,onChange:m})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(F.Z,{label:"Desigination",name:"program",fields:[{name:"Professor",value:"Professor"}],value:f,onChange:m}),(0,o.jsx)(S,{label:"Specialization",name:"specialization",type:"text",value:N,onChange:m})]}),(0,o.jsx)(S,{label:"Email",type:"email",name:"email",value:y,onChange:m}),(0,o.jsx)(S,{label:"Phone Number",type:"number",name:"phoneNumber",value:C,onChange:m,onInput:e=>{e.target.value=Math.max(0,parseInt(e.target.value)).toString().slice(0,10)}})]}),(0,o.jsx)("div",{className:"mt-5",children:(0,o.jsx)("button",{className:"my-button ",type:"submit",children:"Submit"})})]})}),(0,o.jsx)("div",{children:(0,o.jsx)(k.Z,{title:"Confirm?",content:"This action can not be undone",open:a,handleClick:s=>{s&&(async()=>{await(0,i.DX)(d).then((s=>{e([1,1,s]),u()})).catch((s=>e([1,2,s])))})(),n(!1)}})})]})},L=()=>{const e=(0,a.s0)(),{queryString:s}=B(),{setFeedback:t}=(0,l.useContext)(c.m),[n,r]=(0,l.useState)([]),[d,m]=(0,l.useState)(1);return(0,l.useEffect)((()=>{(async()=>{await(0,i.wA)(s).then((e=>{m(e.totalPages),r((0,A.XA)(e.studentsArray,["_id","membershipId","fullName","role","program","batch"])),0===e.length&&t([1,2,"No data found"])})).catch((e=>{t([1,2,e])}))})()}),[s]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h1",{className:"text-center font-bold text-3xl my-2",children:"Search Students"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"flex gap-10 justify-between my-5 bg-white p-5 rounded-3xl",children:(0,o.jsx)(D,{selectFields:[{name:"Search All Students",value:"fetchAllStudents"},{name:"Roll Number",value:"rollNumber"},{name:"Name",value:"fullName",inputField:"text"},{name:"Specialization",value:"specialization",inputField:"text"},{name:"Batch",value:"batch",inputField:"number"}]})}),(0,o.jsx)("div",{children:(0,o.jsx)(w,{columns:["Membership Id","Name","Type","Program","Batch"],rows:n,handleRowClick:s=>e(s)})})]}),(0,o.jsx)(I,{totalPages:d})]})},O=()=>{const e=(0,a.s0)(),{queryString:s}=B(),{setFeedback:t}=(0,l.useContext)(c.m),[n,r]=(0,l.useState)([]);return(0,l.useEffect)((()=>{(async()=>{await(0,i.dU)(s).then((e=>{r((0,A.PN)(e,["_id","role","rollNumber","fullName","program","batch"])),0===e.length&&t([1,2,"No data found"])})).catch((e=>{t([1,2,e])}))})()}),[s]),(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-center font-bold text-3xl my-2",children:"Search Applications"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"flex gap-10 justify-between my-5 bg-white p-5 rounded-3xl",children:(0,o.jsx)(D,{selectFields:[{name:"Roll Number",value:"rollNumber"},{name:"Search All Applications",value:"fetchAllApplications"}]})}),(0,o.jsx)("div",{children:(0,o.jsx)(w,{columns:["User Type","Roll Number","Name","Program/Desigination","Batch"],rows:n,handleRowClick:s=>e(s)})})]})]})},z=()=>{const{setFeedback:e}=(0,l.useContext)(c.m),[s,t]=(0,l.useState)(!1),[a,n]=(0,l.useState)(!1),[d,m]=(0,l.useState)([]),{formFields:u,handleChange:h}=(0,r.c)({membershipId:"",cardNumber:"",category:"GENERAL"}),{membershipId:x,cardNumber:b,category:j}=u;return(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-center font-bold text-3xl my-2",children:"Allot Library card to Member"}),(0,o.jsxs)("div",{className:"bg-white p-5 rounded-3xl",children:[(0,o.jsxs)("div",{className:"flex flex-row justify-around items-center",children:[(0,o.jsx)(S,{label:"Membership Id",name:"membershipId",type:"number",value:x,disabled:s,onChange:h}),(0,o.jsx)("button",{className:"my-button",disabled:s,onClick:async()=>{await(0,i.sq)(Number(x)).then((async e=>{console.log(e),m((0,A.PN)([e],["_id","membershipId","fullName","program","batch"])),t(!0)})).catch((s=>e([1,2,s])))},children:"Fetch Member"})]}),s?(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"my-10",children:(0,o.jsx)(w,{columns:["Membership Id","Name","Program","Batch"],rows:d})}),(0,o.jsxs)("div",{className:"flex gap-5 items-center",children:[(0,o.jsx)(S,{label:"Membership Id",type:"number",name:"membershipId",value:x,disabled:!0,InputLabelProps:{shrink:!0}}),(0,o.jsx)(S,{label:"Card Number",type:"text",name:"cardNumber",value:b,onChange:h}),(0,o.jsx)(F.Z,{label:"Category",name:"category",fields:[{name:"GENERAL",value:"GENERAL"},{name:"BOOK BANK",value:"BOOK BANK"}],value:j,onChange:h}),(0,o.jsx)("button",{onClick:()=>n(!0),className:"my-button ml-auto",children:"Submit"})]})]}):""]}),(0,o.jsx)("div",{children:(0,o.jsx)(k.Z,{open:a,handleClick:s=>{s&&(async()=>{await(0,i.xD)(u).then((s=>{e([1,1,s])})).catch((s=>e([1,2,s])))})(),n(!1)}})})]})};var G=t(92);const K=()=>{const{_id:e}=(0,a.UO)(),[s,t]=(0,l.useState)([]),{rollNumber:n,fullName:r,fathersName:c,gender:d,dob:m,program:u,specialization:h,batch:x,email:b,phoneNumber:j,libraryCards:g,imgUrl:p}=s;(0,l.useEffect)((()=>{(async()=>{await(0,i.Mi)(e).then((e=>{const s=f(e.libraryCards.map((e=>e.cardNumber)));t({...e,libraryCards:s})})).catch((()=>t({fullName:"Not Found"})))})()}),[]);const f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s="",t=!0;return 0===e.length?"None":(e.forEach((e=>{t?(s+=e,t=!1):s+=", "+e})),s)};return(0,o.jsxs)("div",{children:[(0,o.jsxs)("h1",{className:"text-center font-bold text-3xl my-2",children:["Student Roll Number : ",n]}),(0,o.jsx)("div",{children:0!==s.length?(0,o.jsx)(P.Z,{rows:[["Name",r],["Fathers Name",c],["Gender",d],["Date Of Birth",new Date(m).toDateString()],["Program | Specialization | Batch",u+" | "+h+" | "+x],["Email",b],["Phone Number",j],["Library Cards",g]],imgUrl:p}):(0,o.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"50vh"},children:(0,o.jsx)(G.Z,{})})}),(0,o.jsx)("div",{className:"my-5",children:(0,o.jsx)(E,{to:"edit-member",label:"Edit Member Details"})})]})},Y=()=>{const{_id:e}=(0,a.UO)(),{setFeedback:s}=(0,l.useContext)(c.m),[t,n]=(0,l.useState)(!1),[r,d]=(0,l.useState)({rollNumber:"",fullName:"",fathersName:"",gender:"",dob:"",program:"",specialization:"",batch:"",email:"",phoneNumber:"",imgUrl:""}),[m,u]=(0,l.useState)(!1),[h,x]=(0,l.useState)("REJECT"),{rollNumber:b,fullName:j,fathersName:g,gender:p,dob:f,program:N,specialization:v,batch:y,email:S,phoneNumber:C,createdAt:w,role:A,imgUrl:F}=r;(0,l.useEffect)((()=>{(async()=>{await(0,i.LC)(e).then((e=>d(e))).catch((e=>s([1,2,e])))})()}),[]);return(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-center font-bold text-3xl my-2",children:"Application Details"}),(0,o.jsx)("div",{children:(0,o.jsx)(P.Z,{rows:[["User Type",A],[""+("STUDENT"===A?"Roll Number":"Employee Id"),b],["Name",j],["Fathers Name",g],["Gender",p],["Date Of Birth",new Date(f).toDateString()],[("STUDENT"===A?"Program":"Desigination")+" | Specialization | Batch",`${N} | ${v} | ${y}`],["Email",S],["Phone Number",C],["Application Date",new Date(w).toDateString()]],imgUrl:F})}),!m&&(0,o.jsxs)("div",{className:"flex justify-center gap-10 mt-5",children:[(0,o.jsx)("button",{name:"REJECT",className:"my-button",onClick:()=>{x("REJECT"),n(!0)},children:"Reject"}),(0,o.jsx)("button",{name:"APPROVE",className:"my-button",onClick:()=>{x("APPROVE"),n(!0)},children:"Approve"})]}),(0,o.jsx)(k.Z,{content:(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{children:(0,o.jsxs)("p",{children:["Are you sure of it to"," ",(0,o.jsx)("span",{className:("APPROVE"===h?"text-green-500":"text-red-500")+" font-bold",children:h})," ","the application"]})})}),open:t,handleClick:t=>{t&&(async()=>{await(0,i.K7)({decision:h,_id:e}).then((e=>{s([1,1,e]),u(!0)})).catch((e=>s([1,2,e])))})(),n(!1)}})]})},q=()=>{const{_id:e}=(0,a.UO)(),{setFeedback:s}=(0,l.useContext)(c.m),[t,n]=(0,l.useState)([{name:"",value:"",branches:[{name:"",value:""}]}]),{formFields:d,handleChange:m,setFormFields:u}=(0,r.c)({rollNumber:"",fullName:"",fathersName:"",gender:"",category:"",dob:"",program:"",specialization:"",batch:"",email:"",phoneNumber:""}),{rollNumber:h,fullName:x,fathersName:b,gender:j,dob:g,category:p,program:f,specialization:N,batch:v,email:y,phoneNumber:k}=d;(0,l.useEffect)((()=>{(async()=>{await(0,i.Mi)(e).then((e=>{u({...e})})).catch((e=>s([1,2,e])));const t=await(0,i.wz)();n(t)})()}),[]);return(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-center font-bold text-3xl my-2",children:"Edit Student Details"}),(0,o.jsx)("div",{className:"bg-white p-5 rounded-3xl",children:(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault()},children:[(0,o.jsxs)("div",{className:"grid md:grid-cols-2 gap-x-10 gap-5 justify-center items-center",children:[(0,o.jsx)(S,{label:"Roll Number",type:"number",name:"rollNumber",value:h,onChange:m,onInput:e=>{e.target.value=Math.max(0,parseInt(e.target.value)).toString().slice(0,6)}}),(0,o.jsx)(F.Z,{label:"Batch",name:"batch",fields:(()=>{const e=[];for(let s=(new Date).getFullYear();s>=(new Date).getFullYear()-6;s--)e.push({name:s.toString(),value:s});return e})(),value:v,onChange:m}),(0,o.jsx)(S,{label:"Name",type:"text",name:"fullName",value:x,onChange:m}),(0,o.jsx)(S,{label:"Father's Name",type:"text",name:"fathersName",value:b,onChange:m}),(0,o.jsx)(S,{label:"Date of Birth",type:"date",name:"dob",value:g.slice(0,10),onChange:m}),(0,o.jsx)(F.Z,{label:"Gender",name:"gender",fields:[{name:"Male",value:"male"},{name:"Female",value:"female"},{name:"Other",value:"other"}],value:j,onChange:m}),(0,o.jsx)(F.Z,{label:"Category",name:"category",fields:[{name:"General",value:"general"},{name:"SC/ST",value:"SCST"},{name:"Other",value:"other"}],value:p,onChange:m}),(0,o.jsx)(F.Z,{label:"Program",name:"program",fields:t,value:f,onChange:m}),(0,o.jsx)(F.Z,{label:"Specialization",name:"specialization",fields:(()=>{try{const e=t.find((e=>e.value===f));return e&&Object.hasOwnProperty.call(e,"branches")?e.branches:[{name:"",value:""}]}catch(e){return[{name:"",value:""}]}})(),value:N,onChange:m}),(0,o.jsx)(S,{label:"Email",type:"email",name:"email",value:y,onChange:m}),(0,o.jsx)(S,{label:"Phone Number",type:"number",name:"phoneNumber",value:k,onChange:m,onInput:e=>{e.target.value=Math.max(0,parseInt(e.target.value)).toString().slice(0,10)}})]}),(0,o.jsxs)("div",{className:"mt-5 flex flex-row justify-center gap-5",children:[(0,o.jsx)("button",{className:"my-button",style:{backgroundColor:"red"},type:"submit",children:"Cancel"}),(0,o.jsx)("button",{className:"my-button",style:{backgroundColor:"green"},onClick:async()=>{await(0,i.nA)(d).then((e=>s([1,1,e]))).catch((e=>s([1,2,e])))},children:"Save"})]})]})})," "]})},V=()=>(0,o.jsxs)(a.Z5,{children:[(0,o.jsx)(a.AW,{index:!0,element:(0,o.jsx)(_,{})}),(0,o.jsx)(a.AW,{path:"/add-member/",element:(0,o.jsx)(M,{})})," ",(0,o.jsx)(a.AW,{path:"/add-member/add-member-card/",element:(0,o.jsx)(z,{})}),(0,o.jsx)(a.AW,{path:"/search-members/",element:(0,o.jsx)(L,{})}),(0,o.jsx)(a.AW,{path:"/search-members/:_id",element:(0,o.jsx)(K,{})}),(0,o.jsx)(a.AW,{path:"/approve-members/",element:(0,o.jsx)(O,{})}),(0,o.jsx)(a.AW,{path:"/approve-members/:_id",element:(0,o.jsx)(Y,{})}),(0,o.jsx)(a.AW,{path:"/search-members/:_id/edit-member/",element:(0,o.jsx)(q,{})})]}),H=()=>{const e="/dashboard/admin/issue-books";return(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-center font-bold text-4xl my-5",children:"Issue Books"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 gap-5 place-items-center",children:[(0,o.jsx)(E,{to:`${e}/issue-new-book`,label:"Issue new Book"}),(0,o.jsx)(E,{to:`${e}/return-issued-book`,label:"Return Issued Book"}),(0,o.jsx)(E,{to:`${e}/search-issued-books`,label:"Search Issued Books"}),(0,o.jsx)(E,{to:`${e}/search-returned-books`,label:"Search Returned Books"})]})]})},J=e=>{let{tableName:s,rows:t,columns:a,onSelect:n,indexToSelect:r,imgUrl:i=null}=e;const[c,d]=(0,l.useState)(!1),[m,u]=(0,l.useState)(null),[h,x]=(0,l.useState)([null]);return(0,l.useEffect)((()=>{n(s,h,c)}),[c,h,m]),console.log("tabel Rendered"),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{children:(0,o.jsxs)("table",{children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Checked"}),a.map(((e,s)=>(0,o.jsx)("th",{children:e},s)))]})}),(0,o.jsxs)("tbody",{children:[t.map(((e,s)=>(0,o.jsxs)("tr",{className:`${m===s&&"table-active-row"}`,children:[(0,o.jsx)("td",{children:(0,o.jsx)("input",{type:"checkbox",onChange:t=>{((e,s)=>{u(m===e?null:e),x(s[r])})(s,e),d(t.target.checked)},checked:m===s})}),e.map(((e,s)=>(0,o.jsx)("td",{children:e},s)))]},s))),i&&(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{className:"text-left w-96",children:"Image"}),(0,o.jsx)("td",{children:(0,o.jsx)("img",{className:"w-52 h-52",src:i,alt:"image"})})]})]})]})})})};var X=t(727);const Q=e=>{let{passSuccess:s}=e;const{setFeedback:t}=(0,l.useContext)(c.m),{formFields:a,handleChange:n,resetFormFields:d}=(0,r.c)({title:"",author:"",isbn:"",accessionNumber:""});return(0,o.jsx)("div",{className:"bg-white rounded-3xl p-10 grid gap-10  z-50 opacity-100",children:(0,o.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),await(0,i.hu)(a).then((e=>{s(),d(),t([1,1,e])})).catch((e=>t([1,2,e])))},children:[(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-10",children:[(0,o.jsx)(S,{label:"Book Title",name:"title",type:"text",onChange:n}),(0,o.jsx)(S,{label:"Author",name:"author",type:"text",onChange:n}),(0,o.jsx)(S,{label:"ISBN",name:"isbn",type:"number",onChange:n,required:!1}),(0,o.jsx)(S,{label:"Accession Number",name:"accessionNumber",type:"number",onChange:n})]}),(0,o.jsx)("div",{className:"flex justify-center mt-5",children:(0,o.jsx)("button",{className:"my-button",type:"submit",children:"Add Now"})})]})})},ee=()=>{const{setFeedback:e}=(0,l.useContext)(c.m),[s,t]=(0,l.useState)(!1),[a,n]=(0,l.useState)(!1),[d,m]=(0,l.useState)([]),[u,h]=(0,l.useState)([]),[x,b]=(0,l.useState)(null),[j,g]=(0,l.useState)(""),[p,f]=(0,l.useState)(""),[N,v]=(0,l.useState)(!1),[y,C]=(0,l.useState)(!1),{formFields:w,handleChange:F}=(0,r.c)({membershipId:"",accessionNumber:"",issueDate:new Date}),{membershipId:B,accessionNumber:D,issueDate:I}=w,T=async()=>{await(0,i.t8)(D).then((e=>{t(!0),m((0,A.PN)([{...e,...e.bookId}],["isbn","title","author","accessionNumber","status"]))})).catch((s=>e([1,2,s])))},P=()=>{(0,i.sq)(w.membershipId).then((e=>{n(!0),b(e.imgUrl),h((0,A.PN)(E(e),["membershipId","fullName","cardNumber","cardStatus"]))})).catch((s=>e([1,2,s])))},E=e=>{const s=[];for(let t=0;t<e.libraryCards.length;t++)s.push({...e,cardNumber:e.libraryCards[t].cardNumber,cardStatus:e.libraryCards[t].status});return s},R=(e,s,t)=>{"studentsTable"===e&&(t?g(s):""!==j&&g("")),"booksTable"===e&&(t?f(s):""!==p&&f(""))};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h1",{className:"text-center font-bold text-3xl my-2",children:"Issue a Book"}),(0,o.jsxs)("div",{className:"bg-white rounded-3xl p-5 grid gap-10",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"flex justify-between gap-5",children:[(0,o.jsx)(S,{label:"Book's Accession Number",name:"accessionNumber",type:"text",value:D,disabled:s,onChange:F}),(0,o.jsx)("button",{className:"my-button w-48",disabled:s,onClick:T,children:"Search Book"}),(0,o.jsx)("button",{className:"my-button w-48",disabled:s,onClick:()=>C(!0),children:"Quick Add Book"})]}),(0,o.jsx)("div",{children:s&&(0,o.jsx)("div",{className:"mt-5",children:(0,o.jsx)(J,{columns:["ISBN","Title","Author","Accession Number","Avalability"],rows:d,onSelect:R,indexToSelect:3,tableName:"booksTable"})})})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"flex justify-between gap-5",children:[(0,o.jsx)(S,{label:"Membership Id",name:"membershipId",type:"text",value:B,disabled:a,onChange:F}),(0,o.jsx)("button",{className:"my-button w-48",disabled:a,onClick:P,children:"Search Member"})]}),(0,o.jsx)("div",{children:a&&(0,o.jsx)("div",{className:"mt-5",children:(0,o.jsx)(J,{columns:["Membership Id","Name","Card Number","Avalability"],rows:u,onSelect:R,indexToSelect:2,tableName:"studentsTable",imgUrl:x})})})]}),(0,o.jsx)("div",{children:(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault(),v(!0)},children:[(0,o.jsxs)("div",{className:"grid grid-cols-3 gap-5 items-center justify-center",children:[(0,o.jsx)(S,{disabled:!0,label:"Card Number",name:"cardNumber",value:j}),(0,o.jsx)(S,{disabled:!0,label:"Accession Number",name:"accessionNumber",value:p}),(0,o.jsx)(S,{label:"Issue Date",name:"issueDate",type:"date",value:I,onChange:F,max:new Date((new Date).getTime()+-864e5).toISOString().split("T")[0],required:!1})]}),(0,o.jsx)("div",{className:"mt-5 flex flex-row justify-center items-center",children:(0,o.jsx)("button",{className:"my-button",disabled:""===j||""===p,type:"submit",children:"Issue Now"})})]})})]}),(0,o.jsx)("div",{children:(0,o.jsx)(k.Z,{title:"Confirm?",content:(0,o.jsxs)(o.Fragment,{children:["Issue Book:- ",(0,o.jsx)("br",{}),"Accession Number: ",p," ",(0,o.jsx)("br",{}),"Library Card Number: ",j," ",(0,o.jsx)("br",{}),"Issue Date: ",new Date(I).toDateString()]}),open:N,handleClick:s=>{s&&(async()=>{const s={accessionNumber:p,cardNumber:j,issueDate:w.issueDate};await(0,i.vs)(s).then((s=>{e([1,1,s]),T(),P()})).catch((s=>e([1,2,s])))})(),v(!1)}})}),y&&(0,o.jsx)(X.Z,{onClose:()=>C(!1),children:(0,o.jsx)(Q,{passSuccess:()=>C(!1)})})]})},se=()=>{const{setFeedback:e}=(0,l.useContext)(c.m),[s,t]=(0,l.useState)(!1),[a,n]=(0,l.useState)(!1),[d,m]=(0,l.useState)(!1),{formFields:u,handleChange:h,resetFormFields:x}=(0,r.c)({accessionNumber:""}),[b,j]=(0,l.useState)([]),{title:g,author:p,accessionNumber:f,libraryCard:N,issueDate:v,fullName:y,issuedBy:C,rollNumber:w,_id:F,imgUrl:B}=b,D=(0,A.p6)();return(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-center font-bold text-3xl my-2",children:"Return book?"}),(0,o.jsxs)("div",{className:"bg-white rounded-3xl p-5 flex justify-between",children:[(0,o.jsx)(S,{label:"Accession Number",name:"accessionNumber",type:"number",onChange:h,value:u.accessionNumber}),(0,o.jsx)("button",{className:"my-button",onClick:async()=>{n(!0),await(0,i.Gy)(+u.accessionNumber).then((e=>{j(e)})).catch((s=>{e([1,2,s]),n(!1)}))},children:"Search"})]}),a&&(0!==b.length?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"my-5",children:(0,o.jsx)(P.Z,{rows:[["Accession Number",f],["Library Card Number",N],["Issue Date",(0,A.mr)(v)],["Issued By",C],["Book title",g],["Book Author",p],["Member Name",y],["Roll Number",w]],imgUrl:B})}),(0,o.jsxs)("div",{className:"bg-white rounded-3xl p-5 flex justify-between items-center",children:[(0,o.jsx)(S,{label:"Return Date",name:"returnDate",value:D,disabled:!0,style:{textAlign:"center"},InputLabelProps:{shrink:!0}}),(0,o.jsx)("button",{className:"my-button",onClick:async()=>{await(0,i.xJ)({_id:F}).then((async e=>{null!=e&&m(e),t(!0)})).catch((s=>e([1,2,s])))},children:"Return"})]})]}):(0,o.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"50vh"},children:(0,o.jsx)(G.Z,{})})),(0,o.jsx)("div",{children:(0,o.jsx)(k.Z,{title:"Confirm?",content:(0,o.jsxs)(o.Fragment,{children:["Return Book:-",(0,o.jsx)("br",{}),"Accession Number: ",f,(0,o.jsx)("br",{}),"Fine:"," ",d?(0,o.jsxs)("span",{style:{color:"red"},children:["\u20b9",d]}):"N/A"]}),open:s,handleClick:s=>{s&&(async()=>{await(0,i.Nm)({_id:F}).then((s=>{e([1,1,s]),x(),j([]),n(!1)})).catch((s=>{e([1,2,s])}))})(),t(!1)}})})]})},te=()=>{const{queryString:e}=B(),s=(0,a.s0)(),{setFeedback:t}=(0,l.useContext)(c.m),[n,r]=(0,l.useState)(1),[d,m]=(0,l.useState)([]);return(0,l.useEffect)((()=>{(async()=>{await(0,i.eU)(e).then((e=>{r(e.totalPages),m((0,A.XA)(e.issuedBooksArray,["_id","accessionNumber","bookTitle","cardNumber","issueDate","rollNumber","studentName"])),0===e.length&&t([1,2,"No data found"])})).catch((e=>t([1,2,e])))})()}),[e]),(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-center font-bold text-3xl my-2",children:"Search Issued Books"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"flex gap-10 justify-between my-5 bg-white p-5 rounded-3xl",children:(0,o.jsx)(D,{selectFields:[{name:"Search All Issued Books",value:"fetchAllIssuedBooks"},{name:"Accession Number",value:"accessionNumber"},{name:"Library Card Number",value:"cardNumber"},{name:"Current Month",value:"currentMonth"},{name:"Date Range",value:"dateRange"}]})}),(0,o.jsx)(w,{columns:["Accession Number","Book Title","Card Number","Issue Date","Student Roll Number","Student Name"],rows:d,handleRowClick:e=>s(`view-book/${e}`)}),(0,o.jsxs)("div",{className:"mt-5 flex flex-row gap-10 justify-center items-center",children:[0!==d.length&&(0,o.jsx)("button",{className:"my-button",onClick:async()=>{await(0,i.gC)().then((e=>t([1,1,e]))).catch((e=>t([1,2,e])))},children:"Export To Excel"}),(0,o.jsx)(I,{totalPages:n})]})]})]})},ae=()=>{const e=(0,a.s0)(),{queryString:s}=B(),{setFeedback:t}=(0,l.useContext)(c.m),[n,r]=(0,l.useState)([]),[d,m]=(0,l.useState)(1);return(0,l.useEffect)((()=>{(async()=>{await(0,i.tr)(s).then((e=>{m(e.totalPages),r((0,A.XA)(e.returnedBooksArray,["_id","accessionNumber","bookTitle","cardNumber","issueDate","returnDate","rollNumber","studentName","fine"])),0===e.length&&t([1,2,"No data found"])})).catch((e=>t([1,2,e])))})()}),[s]),(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-center font-bold text-3xl my-2",children:"Search Returned Books"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"flex gap-10 justify-between my-5 bg-white p-5 rounded-3xl",children:(0,o.jsx)(D,{selectFields:[{name:"Search All Returned Books",value:"fetchAllReturnedBooks"},{name:"Accession Number",value:"accessionNumber"},{name:"Library Card Number",value:"cardNumber"},{name:"Current Month",value:"currentMonth"},{name:"Date Range",value:"dateRange"}]})}),(0,o.jsx)(w,{columns:["Accession Number","Book Title","Card Number","Issue Date","Return Date","Student Roll Number","Student Name","Fine"],rows:n,handleRowClick:s=>e(`view-book/${s}`)}),(0,o.jsxs)("div",{className:"mt-5 flex flex-row gap-10 justify-center items-center",children:[0!==n.length&&(0,o.jsx)("button",{className:"my-button",onClick:async()=>{await(0,i.w6)(s).then((e=>{t([1,1,e])})).catch((e=>t([1,2,e])))},children:"Export To Excel"}),(0,o.jsx)(I,{totalPages:d})]})]})]})})},ne=()=>{const{_id:e}=(0,a.UO)(),[s,t]=(0,l.useState)([]),{accessionNumber:n,title:r,author:c,cardNumber:d,issueDate:m,issuedBy:u,returnDate:h,returnedBy:x,rollNumber:b,name:j,fine:g}=s;(0,l.useEffect)((()=>{(async()=>{await(0,i.P4)(e).then((e=>{t(e)}))})()}),[]);return(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-center font-bold text-3xl my-2",children:"Returned Book Details"}),0!==s.length?(0,o.jsx)("div",{children:(0,o.jsx)(P.Z,{rows:[["Accession Number",n],["Book Title",r],["Book Author",c],["Card Number",d],["Issue Date",(0,A.mr)(m)],["Issued By",u],["Return Date",(0,A.mr)(h)],["Returned By",x],["Roll Number",b],["Member Name",j],["Fine","Null"===g?"Null":`\u20b9${g}`]]})}):(0,o.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"50vh"},children:(0,o.jsx)(G.Z,{})})]})},le=()=>{const{_id:e}=(0,a.UO)(),[s,t]=(0,l.useState)([]),{accessionNumber:n,title:r,author:c,cardNumber:d,issueDate:m,issuedBy:u,rollNumber:h,name:x}=s;(0,l.useEffect)((()=>{(async()=>{await(0,i.$L)(e).then((e=>{setTimeout((()=>{t(e)}),2e3)}))})()}),[]);return(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-center font-bold text-3xl my-2",children:"Issued Book Details"}),0!==s.length?(0,o.jsx)("div",{children:(0,o.jsx)(P.Z,{rows:[["Accession Number",n],["Book Title",r],["Book Author",c],["Card Number",d],["Issue Date",(0,A.mr)(m)],["Issued By",u],["Student Roll Number",h],["Student Name",x]]})}):(0,o.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"50vh"},children:(0,o.jsx)(G.Z,{})})]})},re=()=>(0,o.jsxs)(a.Z5,{children:[(0,o.jsx)(a.AW,{index:!0,element:(0,o.jsx)(H,{})}),(0,o.jsx)(a.AW,{path:"/issue-new-book/",element:(0,o.jsx)(ee,{})}),(0,o.jsx)(a.AW,{path:"/return-issued-book/",element:(0,o.jsx)(se,{})}),(0,o.jsx)(a.AW,{path:"/search-issued-books",element:(0,o.jsx)(te,{})}),(0,o.jsx)(a.AW,{path:"search-issued-books/view-book/:_id",element:(0,o.jsx)(le,{})}),(0,o.jsx)(a.AW,{path:"/search-returned-books",element:(0,o.jsx)(ae,{})}),(0,o.jsx)(a.AW,{path:"search-returned-books/view-book/:_id",element:(0,o.jsx)(ne,{})})]}),ie=()=>{const{setFeedback:e}=(0,l.useContext)(c.m),[s,t]=(0,l.useState)({fullName:"",idNumber:null}),{fullName:a,idNumber:n,email:r,level:d,active:m,createdAt:u}=s;return(0,l.useEffect)((()=>{(async()=>{await(0,i.In)().then((e=>t(e))).catch((s=>{e([1,2,s])}))})()}),[]),(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-center font-bold text-4xl my-5",children:"Profile"}),(0,o.jsx)("div",{className:"",children:(0,o.jsx)(P.Z,{rows:[["ID Number",n],["Staff Name",a],["Email",r],["Level",d],["Status",m?"Active":"Inactive"],["Created At",(0,A.mr)(u)]]})})]})},ce=()=>(0,o.jsx)(a.Z5,{children:(0,o.jsx)(a.AW,{index:!0,element:(0,o.jsx)(ie,{})})}),oe=()=>{const e="/dashboard/admin/manage-staff";return(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-center font-bold text-4xl my-5",children:"Manage Staff"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 gap-5 place-items-center",children:[(0,o.jsx)(E,{to:`${e}/add-new-staff`,label:"Add New Staff Member"}),(0,o.jsx)(E,{to:`${e}/search-staff`,label:"Search Staff Members"})]})]})},de=()=>{const{setFeedback:e}=(0,l.useContext)(c.m),[s,t]=(0,l.useState)(!1),{formFields:a,handleChange:n}=(0,r.c)({fullName:""}),{idNumber:d,fullName:m,email:u,password:h,level:x}=a;return(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-2xl font-bold my-5 text-center",children:"Add new staff member"}),(0,o.jsx)("div",{className:"bg-white p-10",children:(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(!0)},children:[(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-10 my-5",children:[(0,o.jsx)(S,{label:"ID Number",type:"number",name:"idNumber",value:d,onChange:n}),(0,o.jsx)(S,{label:"Full Name",type:"text",name:"fullName",value:m,onChange:n}),(0,o.jsx)(S,{label:"Email",type:"text",name:"email",value:u,onChange:n}),(0,o.jsx)(S,{label:"Password",type:"text",name:"password",value:h,onChange:n}),(0,o.jsx)(F.Z,{name:"level",label:"Level",fields:[{name:"1 (Issue-Return)",value:1},{name:"2 (Searches)",value:2},{name:"3 (Approve)",value:3},{name:"4 (Edit)",value:4},{name:"5 (Excel)",value:5},{name:"6 (Admin)",value:6}],value:x,onChange:n})]}),(0,o.jsx)("div",{className:"flex justify-center",children:(0,o.jsx)("button",{className:"my-button",type:"submit",children:"Submit"})})]})}),(0,o.jsx)("div",{children:(0,o.jsx)(k.Z,{title:"Confirm?",content:"This action can not be undone",open:s,handleClick:s=>{s&&(async()=>{await(0,i.ZA)(a).then((s=>{e([1,1,s])})).catch((s=>{e([1,2,s])}))})(),t(!1)}})})]})},me=()=>{const e=(0,a.s0)(),{queryString:s}=B(),{setFeedback:t}=(0,l.useContext)(c.m),[n,r]=(0,l.useState)([]);return(0,l.useEffect)((()=>{(async()=>{await(0,i.Fe)().then((e=>r((0,A.XA)(e,["_id","idNumber","fullName","level"])))).catch((e=>{t([1,2,e])}))})()}),[s]),(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("h1",{className:"text-3xl font-bold m-5",children:"Search Staff"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"flex  justify-between my-5 bg-white p-5 rounded-3xl",children:(0,o.jsx)(D,{selectFields:[{name:"Search All Staff",value:"fetchAllStaff"}]})}),(0,o.jsx)("div",{className:"",children:(0,o.jsx)(w,{columns:["ID Number","Name","Level"],rows:n,handleRowClick:s=>e(s)})})]})]})},ue=()=>{const{_id:e}=(0,a.UO)(),{setFeedback:s}=(0,l.useContext)(c.m),[t,n]=(0,l.useState)({fullName:"",idNumber:null}),{fullName:r,idNumber:d,email:m,level:u,active:h,createdAt:x}=t;return console.log(t),(0,l.useEffect)((()=>{(async()=>{await(0,i.UR)(e).then((e=>n(e))).catch((e=>{s([1,2,e])}))})()}),[]),(0,o.jsxs)("div",{className:"m-5",children:[(0,o.jsx)("div",{className:"text-center font-bold text-3xl my-2",children:(0,o.jsx)("h1",{children:"Staff Details"})}),(0,o.jsx)("div",{children:(0,o.jsx)(P.Z,{rows:[["ID Number",d],["Staff Name",r],["Email",m],["Level",u],["Status",h?"Active":"Inactive"],["Created At",(0,A.mr)(x)]]})}),(0,o.jsx)("div",{className:"my-5",children:(0,o.jsx)(E,{to:"edit-staff",label:"Edit Staff Details"})})]})},he=()=>{const{_id:e}=(0,a.UO)(),{setFeedback:s}=(0,l.useContext)(c.m),[t,n]=(0,l.useState)(!1),{formFields:d,handleChange:m,setFormFields:u}=(0,r.c)({fullName:""}),{idNumber:h,fullName:x,email:b,level:j}=d;return(0,l.useEffect)((()=>{(async()=>{await(0,i.UR)(e).then((e=>u(e))).catch((e=>{s([1,2,e])}))})()}),[]),(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-2xl font-bold my-5 text-center",children:"Edit Staff Member"}),(0,o.jsx)("div",{className:"bg-white p-10",children:(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(!0)},children:[(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-10 my-5",children:[(0,o.jsx)(S,{label:"ID Number",type:"number",name:"idNumber",value:h,onChange:m}),(0,o.jsx)(S,{label:"Full Name",type:"text",name:"fullName",value:x,onChange:m}),(0,o.jsx)(S,{label:"Email",type:"text",name:"email",value:b,onChange:m}),(0,o.jsx)(F.Z,{name:"level",label:"Level",fields:[{name:"1 (Issue-Return)",value:1},{name:"2 (Searches)",value:2},{name:"3 (Approve)",value:3},{name:"4 (Edit)",value:4},{name:"5 (Excel)",value:5},{name:"6 (Admin)",value:6}],value:j,onChange:m})]}),(0,o.jsx)("div",{className:"flex justify-center",children:(0,o.jsx)("button",{className:"my-button",type:"submit",children:"Submit"})})]})}),(0,o.jsx)("div",{children:(0,o.jsx)(k.Z,{title:"Confirm?",content:"This action can not be undone",open:t,handleClick:t=>{t&&(async()=>{await(0,i.bV)(e,d).then((e=>{s([1,1,e])})).catch((e=>{s([1,2,e])}))})(),n(!1)}})})]})},xe=()=>(0,o.jsxs)(a.Z5,{children:[(0,o.jsx)(a.AW,{index:!0,element:(0,o.jsx)(oe,{})}),(0,o.jsx)(a.AW,{path:"/add-new-staff/",element:(0,o.jsx)(de,{})}),(0,o.jsx)(a.AW,{path:"/search-staff/",element:(0,o.jsx)(me,{})}),(0,o.jsx)(a.AW,{path:"/search-staff/:_id",element:(0,o.jsx)(ue,{})}),(0,o.jsx)(a.AW,{path:"/search-staff/:_id/edit-staff/",element:(0,o.jsx)(he,{})})]}),be=()=>{const e="/dashboard/admin/database";return(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-center font-bold text-4xl my-5",children:"Database"}),(0,o.jsxs)("div",{className:"grid grid-cols-3 gap-2 place-items-center",children:[(0,o.jsx)(E,{to:`${e}/issued-books`,label:"Issued Books"}),(0,o.jsx)(E,{to:`${e}/returned-books`,label:"Returned Books"}),(0,o.jsx)(E,{to:`${e}/book-accessions`,label:"Book Accessions"}),(0,o.jsx)(E,{to:`${e}/books`,label:"Books"}),(0,o.jsx)(E,{to:`${e}/library-cards`,label:"Library Cards"}),(0,o.jsx)(E,{to:`${e}/students`,label:"Students"}),(0,o.jsx)(E,{to:`${e}/applications`,label:"Applications"}),(0,o.jsx)(E,{to:`${e}/staff`,label:"Staff"}),(0,o.jsx)(E,{to:`${e}/auth-admin`,label:"Auth Admin"}),(0,o.jsx)(E,{to:`${e}/auth-student`,label:"Auth Student"}),(0,o.jsx)(E,{to:`${e}/auth-applicant`,label:"Auth Applicant"})]})]})},je=e=>{let{valueProps:s,onChange:t}=e;const[a,n]=(0,l.useState)(!0);return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"grid grid-cols-10 my-5",children:[(0,o.jsx)("div",{className:"col-span-8",children:(0,o.jsx)(S,{inputclassname:"w-96",disabled:a,name:s.label,onChange:t,...s})}),(0,o.jsx)("div",{className:"flex flex-row justify-center items-center",children:(0,o.jsx)("button",{className:"my-button",onClick:()=>n(!a),children:"Edit"})})]})})},ge=e=>{let{colName:s,url:t,crs:a}=e;const{setFeedback:n}=(0,l.useContext)(c.m),{formFields:d,handleChange:m}=(0,r.c)({_id:"65b8824b6d22519e8b630129"}),[u,h]=(0,l.useState)({}),x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=[];for(const[t,a]of Object.entries(e))s.push({label:t,value:a});return s},b=()=>0!==x(u).length;return(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-center font-bold text-3xl my-2",children:s}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"bg-white rounded-3xl p-5 grid grid-cols-2 gap-5",children:[(0,o.jsx)("div",{className:"",children:(0,o.jsx)(S,{inputclassname:"w-full",name:"_id",label:"_id",value:d._id,disabled:b(),onChange:m})}),(0,o.jsx)("div",{className:"flex flex-row justify-center items-center",children:(0,o.jsx)("button",{className:"my-button",disabled:b(),onClick:async()=>{await(0,i.L8)(`database/${t}`,d,a).then((e=>{h(e)})).catch((e=>n([1,2,e])))},children:"Search"})})]}),(0,o.jsx)("div",{className:"bg-white p-5 rounded-3xl mt-5",children:x(u).map(((e,s)=>{const{label:t,value:a}=e;return(0,o.jsx)(je,{keyProps:{label:t},valueProps:{label:t,value:a},onChange:m},s)}))})]})]})},pe=()=>(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(ge,{colName:"Book Accession Document",url:"/get-book-accession",crs:"DBSF200BA"})}),fe=()=>(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(ge,{colName:"Book Document",url:"get-book",crs:"DBSF200BKS"})}),Ne=()=>(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(ge,{colName:"Library Card Document",url:"get-library-card",crs:"DBSF200LC"})}),ve=()=>(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(ge,{colName:"Student Document",url:"get-student",crs:"DBSF200STU"})}),ye=()=>(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(ge,{colName:"Issued Book Document",url:"get-issued-book",crs:"DBSF200ISB"})}),Se=()=>(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(ge,{colName:"Returned Book Document",url:"get-returned-book",crs:"DBSF200RSB"})}),ke=()=>(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(ge,{colName:"Staff Document",url:"get-staff",crs:"DBSF200STF"})}),Ce=()=>(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(ge,{colName:"Application Document",url:"get-application",crs:"DBSF200APP"})}),we=()=>(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(ge,{colName:"Auth Admin Document",url:"get-auth-admin",crs:"DBSF200AUAD"})}),Ae=()=>(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(ge,{colName:"Auth Student Document",url:"get-auth-student",crs:"DBSF200AUST"})}),Fe=()=>(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(ge,{colName:"Auth Applicant Document",url:"get-auth-applicant",crs:"DBSF200AUAP"})}),Be=()=>(0,o.jsxs)(a.Z5,{children:[(0,o.jsx)(a.AW,{index:!0,element:(0,o.jsx)(be,{})}),(0,o.jsx)(a.AW,{path:"/issued-books",element:(0,o.jsx)(ye,{})}),(0,o.jsx)(a.AW,{path:"/returned-books",element:(0,o.jsx)(Se,{})}),(0,o.jsx)(a.AW,{path:"/book-accessions",element:(0,o.jsx)(pe,{})}),(0,o.jsx)(a.AW,{path:"/library-cards",element:(0,o.jsx)(Ne,{})}),(0,o.jsx)(a.AW,{path:"/books",element:(0,o.jsx)(fe,{})}),(0,o.jsx)(a.AW,{path:"/students",element:(0,o.jsx)(ve,{})}),(0,o.jsx)(a.AW,{path:"/staff",element:(0,o.jsx)(ke,{})}),(0,o.jsx)(a.AW,{path:"/applications",element:(0,o.jsx)(Ce,{})}),(0,o.jsx)(a.AW,{path:"/auth-admin",element:(0,o.jsx)(we,{})}),(0,o.jsx)(a.AW,{path:"/auth-student",element:(0,o.jsx)(Ae,{})}),(0,o.jsx)(a.AW,{path:"/auth-applicant",element:(0,o.jsx)(Fe,{})})]}),De=()=>(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-center font-bold text-4xl my-5",children:"Manage Fines"}),(0,o.jsx)("div",{className:"grid grid-cols-1 gap-5 place-items-center",children:(0,o.jsx)(E,{to:"search-fines",label:"Search Fines"})})," "]}),Ie=()=>{const e=(0,a.s0)(),{queryString:s}=B(),{setFeedback:t}=(0,l.useContext)(c.m),[n,r]=(0,l.useState)(1),[d,m]=(0,l.useState)([]);return(0,l.useEffect)((()=>{(async()=>{await(0,i.Km)(s).then((e=>{0!==e.length?m((0,A.XA)(e,["_id","createdAt","rollNumber","fullName","recieptNumber","category","amount"])):t([1,2,"No Data Found"])})).catch((e=>t([1,2,e])))})()}),[s]),(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-center font-bold text-3xl my-2",children:"Search Fines"}),(0,o.jsx)("div",{className:"flex  justify-between my-5 bg-white p-5 rounded-3xl",children:(0,o.jsx)(D,{selectFields:[{name:"Search All Fines",value:"fetchAllFines"}]})}),(0,o.jsx)("div",{className:"",children:(0,o.jsx)(w,{columns:["Date","Roll Number","Student Name","Reciept Number","Category","Amount"],rows:d,handleRowClick:s=>e(s)})}),(0,o.jsx)(I,{totalPages:n})]})},Te=()=>{const{_id:e}=(0,a.UO)(),[s,t]=(0,l.useState)({fullName:"",rollNumber:"",amount:"",category:"",createdAt:"",recieptNumber:""}),[n,c]=(0,l.useState)(!1),{formFields:d,handleChange:m}=(0,r.c)({recieptNumber:""}),{recieptNumber:u}=d,h=async()=>{(0,i.QX)(e).then((e=>t(e))).catch((e=>console.log(e)))};(0,l.useEffect)((()=>{h()}),[]);const{fullName:x,rollNumber:b,amount:j,category:g,createdAt:p}=s;return(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-center font-bold text-3xl my-2",children:"Fine Details"}),(0,o.jsx)(P.Z,{rows:[["Student Name",x],["Roll Number",b],["Fine Date",p],["Reciept Number",s.recieptNumber],["Amount",j],["Category",g]]}),(0,o.jsx)("div",{children:"NULL"===s.recieptNumber&&(0,o.jsx)("div",{className:"mt-2 flex flex-row justify-center",children:(0,o.jsx)("button",{className:"my-button",onClick:()=>c(!0),children:"Add Reciept"})})}),(0,o.jsx)(k.Z,{open:n,content:(0,o.jsxs)("div",{className:"m-3 text-center",children:[(0,o.jsx)("h4",{className:"m-3",children:"Add Reciept Number"}),(0,o.jsx)(S,{label:"Reciept Number",type:"number",name:"recieptNumber",value:u,onChange:m,fullWidth:!1,onInput:e=>{e.target.value=Math.max(0,parseInt(e.target.value)).toString().slice(0,10)}})]}),agreeMessage:"Add",disagreeMessage:"Back",handleClick:s=>s?(async()=>{await(0,i.KM)({_id:e,...d}),c(!1),h()})():c(!1)})]})},Pe=()=>(0,o.jsxs)(a.Z5,{children:[(0,o.jsx)(a.AW,{index:!0,element:(0,o.jsx)(De,{})}),(0,o.jsx)(a.AW,{path:"/search-fines/",element:(0,o.jsx)(Ie,{})}),(0,o.jsx)(a.AW,{path:"/search-fines/:_id",element:(0,o.jsx)(Te,{})})]}),Ee=()=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(h,{}),(0,o.jsx)("div",{className:"admin-dashboard-body",children:(0,o.jsxs)(a.Z5,{children:[(0,o.jsx)(a.AW,{index:!0,element:(0,o.jsx)(y,{})}),(0,o.jsx)(a.AW,{path:"/profile/*",element:(0,o.jsx)(ce,{})}),(0,o.jsx)(a.AW,{path:"/issue-books/*",element:(0,o.jsx)(re,{})}),(0,o.jsx)(a.AW,{path:"/manage-fines/*",element:(0,o.jsx)(Pe,{})}),(0,o.jsx)(a.AW,{path:"/manage-books/*",element:(0,o.jsx)(Z,{})}),(0,o.jsx)(a.AW,{path:"/manage-members/*",element:(0,o.jsx)(V,{})}),(0,o.jsx)(a.AW,{path:"/manage-staff/*",element:(0,o.jsx)(xe,{})}),(0,o.jsx)(a.AW,{path:"/database/*",element:(0,o.jsx)(Be,{})})]})})]})},201:(e,s,t)=>{t.d(s,{Fm:()=>o,PN:()=>c,XA:()=>m,m4:()=>d,mr:()=>i,nd:()=>u,p6:()=>l});var a=t(573);const n=(e,s)=>{const t={};for(var a=0;a<s.length;a++)t[s[a]]=e[s[a]];return t},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`},r={timeZone:"Asia/Kolkata",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"},i=e=>new Date(e).toLocaleString("en-US",r),c=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((s=>Object.values(n(s,e))))},o=(e,s)=>{const t={};return Object.keys(e).map((s=>{""!==e[s]&&(t[s]=e[s])})),a.Z.stringify({...a.Z.parse(s),...t})},d=(e,s)=>{const t=document.createElement("canvas"),a=e.naturalWidth/e.width,n=e.naturalHeight/e.height;t.width=s.width*a,t.height=s.height*n;const l=t.getContext("2d");return l&&l.drawImage(e,s.x*a,s.y*n,s.width*a,s.height*n,0,0,t.width,t.height),new Promise((e=>{t.toBlob((s=>{e(s)}),"image/jpeg",1)}))},m=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.map((e=>Object.values(n({...e},s))))},u=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s="",t=!0;return e.forEach((a=>{t?(s+=`(${e.length}) `+a.accessionNumber,t=!1):s+=", "+a.accessionNumber})),s};return e.map((e=>Object.values(n({...e,accessionNumber:t(e.accessionNumbers)},s))))}}}]);
//# sourceMappingURL=86.e5e46875.chunk.js.map